/*! Plugin swiper: 0.1.2 - "395ae0e05ee0e0de00f90a5264368d812d139bf9" - 2021-05-19T14:49:16.935Z */(()=>{"use strict";var e={607:(e,t)=>{var i=function(){function e(){this.layerNb=0,this.layerNames=[],this.closureFunc=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}}return e.prototype.init=function(e){var t=this;this.mapApi=e,this.config=this._RV.getConfig("plugins").swiper,this.config.language=this._RV.getCurrentLang(),this.mapApi.layersObj.layerAdded.subscribe((function(e){t.config.layers.find((function(i){i.id===e.id&&(t.layerNb++,t.layerNames.push(e.name))}))})),window.RAMP.GAPI.esriLoadApiClasses([["esri/dijit/LayerSwipe","layerSwipe"]]).then((function(e){var i=setInterval((function(){t.layerNb===t.config.layers.length&&(t.setSwiper(e,t.config),clearInterval(i))}),500)}))},e.prototype.setSwiper=function(e,t){for(var i=[],r=t.layers.length;r--;)i.push(this.mapApi.esriMap.getLayer(t.layers[r].id));this.mapApi.mapDiv.find("rv-shell").find(".rv-esri-map").prepend('<div id="rv-swiper-div"></div>');var n=new e.layerSwipe({type:t.type,map:this.mapApi.esriMap,layers:i,top:document.body.scrollHeight/2,left:this.getWidth()/2},"rv-swiper-div"),s=this;n.on("load",(function(){var e=s.mapApi.mapDiv.find("#rv-swiper-div ."+n.type)[0];e.tabIndex=-3,e.addEventListener("keydown",s.closureFunc((function(e,i,r,n){if("vertical"===t.type){var a=parseInt(i.style.left),p=parseInt(s.mapApi.mapDiv.find("#rv-swiper-div").width())-10;37===n.keyCode&&a>=0?a=a>r?a-=r:0:39===n.keyCode&&a<=p&&(a=a<=p-r?a+=r:p),i.style.left=String(a+"px")}else if("horizontal"===t.type){a=parseInt(i.style.top);var o=parseInt(s.mapApi.mapDiv.find("#rv-swiper-div").height())-10;38===n.keyCode&&a>=0?a=a>r?a-=r:0:40===n.keyCode&&a<=o&&(a=a<=o-r?a+=r:o),i.style.top=String(a+"px")}e.swipe()}),n,e,t.keyboardOffset)),"fr-CA"===s._RV.getCurrentLang()&&(e.title="Faites glisser pour voir les couches sous-jacentes"),e.title+="\r\n- "+s.layerNames.join(",\r\n- ")})),n.startup()},e.prototype.getWidth=function(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)},e}();window.swiper=i}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,i),s.exports}i(607)})();