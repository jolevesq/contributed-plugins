!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(4),s=n(19),a=n(6),c=n(1),l=n(5),f=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=u.empty;break;case 1:if(!n){o.destination=u.empty;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new h(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new h(o,n,r,i)}return o}return i(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(s.Subscription);e.Subscriber=f;var h=function(t){function e(e,n,r,i){var s,a=t.call(this)||this;a._parentSubscriber=e;var c=a;return o.isFunction(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==u.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=s,a._error=r,a._complete=i,a}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw t;l.hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(l.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f);e.SafeSubscriber=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(13),o=n(14),u=n(15),s=n(35),a=function(){function t(t,e){var n=this;this._gifImages=[],this._mapApi=t,this._slider=document.getElementById("nouislider"),this._config=e,this._slider.delay=e.delay,this._slider.lock=e.lock,this._slider.loop=e.loop,this._slider.range=e.range,this._slider.export=e.export;var i=Math.abs(e.limit.max-e.limit.min),o=this._mapApi.fgpMapObj.width;r.create(this._slider,{start:[this._slider.range.min,this._slider.range.max],connect:!0,behaviour:"drag-tap",tooltips:[{to:function(t){return n.formatPips(t,n._config.type,n._config.language)},from:Number},{to:function(t){return n.formatPips(t,n._config.type,n._config.language)},from:Number}],range:this.setRanges(o,e.limit,i),pips:{mode:"range",density:o>800?2:25,format:{to:function(t){return n.formatPips(t,n._config.type,n._config.language)},from:Number}}}),document.getElementsByClassName("noUi-handle-lower")[0].setAttribute("tabindex","-2"),document.getElementsByClassName("noUi-handle-upper")[0].setAttribute("tabindex","-2"),this.setDefinitionQuery(this._slider.range);var u=this;this._slider.noUiSlider.on("set.one",(function(t){var e=t.map(Number);u._slider.range={min:e[0],max:e[1]},u.setDefinitionQuery(u._slider.range),u._slider.lock||(u._config.step=u._slider.range.max-u._slider.range.min)}))}return t.getPlayState=function(){return this._playState.asObservable()},t.setPlayState=function(t){this._playState.next(t)},t.prototype.setRanges=function(t,e,n){var r={};return r.min=e.min,r.max=e.max,r["50%"]=e.min+n/2,t>800&&(r["25%"]=e.min+n/4,r["75%"]=e.min+n/4*3),r},t.prototype.formatPips=function(t,e,n){if("number"===e)t=Math.round(100*t)/100;else if("date"===e||"wmst"===e){var r=new Date(t);t="en-FR"===n?r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear():r.getMonth()+1+"/"+r.getDate()+"/"+r.getFullYear()}return t},Object.defineProperty(t.prototype,"lock",{get:function(){return this._slider.lock},set:function(t){this._slider.lock=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._slider.loop},set:function(t){this._slider.loop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._slider.delay},set:function(t){this._slider.delay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"export",{get:function(){return this._slider.export},set:function(t){this._slider.export=t},enumerable:!0,configurable:!0}),t.prototype.play=function(e){var n=this;e?(this._gifImages=[],t.setPlayState(e),this.playInstant(this._config.limit.max),this._playInterval=setInterval((function(){return n.playInstant(n._config.limit.max)}),this.delay)):this.pause()},t.prototype.playInstant=function(t){var e=this;this.export&&setTimeout((function(){e.takeSnapShot(!1)}),this.delay-500),this._slider.range.max!==t?this.step("up"):this._slider.loop?(this._slider.range.min=this._config.limit.min,this._slider.range.max=this._slider.range.min+this._config.step,this._slider.noUiSlider.set([this._slider.range.min,this._slider.range.max])):this.pause()},t.prototype.takeSnapShot=function(t){var e=this,n=document.getElementsByClassName("rv-esri-map")[0],r=n.offsetWidth,s=n.offsetHeight;i.toPng(n,{bgcolor:"white"}).then((function(n){e._gifImages.push(n),t&&(e.export=!1,o.createGIF({images:e._gifImages,interval:e.delay,gifWidth:r,gifHeight:s},(function(t){t.error||u.saveAs(e.dataURItoBlob(t.image),"fgpv-slider-export.gif")})))})).catch((function(t){console.error("Not able to save screen shot!",t)}))},t.prototype.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),i=new Uint8Array(r),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([r],{type:n})},t.prototype.pause=function(){this.export&&this.takeSnapShot(!0),clearInterval(this._playInterval),t.setPlayState(!1)},t.prototype.refresh=function(){this._slider.noUiSlider.set([this._config.range.min,this._config.range.max]),this.setDefinitionQuery(this._config.range),this.pause()},t.prototype.step=function(t){var e=this._slider.noUiSlider.get().map(Number),n="up"===t?this._config.step:-this._config.step,r={min:this.lock?e[0]:this.setLeftAnchor(e,t,n),max:this.setRightAnchor(e,t,n)};this._slider.noUiSlider.set([r.min,r.max]),this.setDefinitionQuery(r),this._slider.range=r},t.prototype.setLeftAnchor=function(t,e,n){var r=0,i=this._config.limit;return r="down"===e?Math.floor(t[0]+n)<i.min?i.min:t[0]+n:Math.ceil(t[0]+n)>i.max-n?i.max-n:t[0]+n,parseFloat(r.toFixed(this._config.precision))},t.prototype.setRightAnchor=function(t,e,n){var r=0,i=this._config.limit;return r="up"===e?Math.ceil(t[1]+n)>i.max?i.max:t[1]+n:Math.floor(t[1]+n)<i.min-n?i.min-n:t[1]+n,parseFloat(r.toFixed(this._config.precision))},t.prototype.setDefinitionQuery=function(t){for(var e=0,n=this._config.layers;e<n.length;e++){var r=n[e],i=this._mapApi.layers.getLayersById(r.id)[0],o=i.type;if("esriDynamic"===o||"esriFeature"===o){if("number"===this._config.type)i.setFilterSql("rangeSliderNumberFilter",r.field+" > "+t.min+" AND "+r.field+" <= "+t.max);else if("date"===this._config.type){var u=this.getDate(t);i.setFilterSql("rangeSliderDateFilter",r.field+" > DATE '"+u[0]+"' AND "+r.field+" <= DATE '"+u[1]+"'")}}else if("ogcWms"===o)if("number"===this._config.type)i.esriLayer.setCustomParameters({},{layerDefs:"{'"+i._viewerLayer._defaultFC+"': '"+r.field+" > "+t.min+" AND "+r.field+" <= "+t.max+"'}"});else if("date"===this._config.type){u=this.getDate(t);i.esriLayer.setCustomParameters({},{layerDefs:"{'"+i._viewerLayer._defaultFC+"': \""+r.field+" > DATE '"+u[0]+"' AND "+r.field+" < DATE '"+u[1]+"'\"}"})}else if("wmst"===this._config.type){u=this.getDate(t,"wmst");i.esriLayer.setCustomParameters({},{TIME:u[0]+"/"+u[1]})}}},t.prototype.getDate=function(t,e){void 0===e&&(e="esri");var n=new Date(t.min),r=new Date(t.max),i="",o="";return"esri"===e?(i=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear(),o=r.getMonth()+1+"/"+r.getDate()+"/"+r.getFullYear()):"wmst"===e&&(i=n.getFullYear()+"-"+(n.getMonth()+1).toString().padStart(2,"0")+"-"+n.getDate().toString().padStart(2,"0")+"T00:00:00",o=r.getFullYear()+"-"+(r.getMonth()+1).toString().padStart(2,"0")+"-"+r.getDate().toString().padStart(2,"0")+"T00:00:00"),[i,o]},t._playState=new s.BehaviorSubject(!1),t}();e.SliderBar=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=function(t){return"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(5);e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hostReportError=function(t){setTimeout((function(){throw t}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){t.exports=n(8)},function(t,e,n){"use strict";n.r(e);n(9),n(34)},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(11),u=n(2),s=n(18),a=n(31),c=function(){function t(){}return t.prototype.init=function(e){var n=this;this.mapApi=e,this.panel=this.mapApi.panels.create("rangeSlider"),this.panel.element.css(t.prototype.panelOptions),this.panel.body=i.SLIDER_TEMPLATE,this.config=this._RV.getConfig("plugins").rangeSlider,this.extendConfig=r(r({},t.prototype.layerOptions),this.config.params),this.extendConfig.language=this._RV.getCurrentLang(),this._button=this.mapApi.mapI.addPluginButton(t.prototype.translations[this._RV.getCurrentLang()].title,this.onMenuItemClick()),this.config.open&&(this._button.isActive=!0);var o=this.config.layers.map((function(t){return t.id}));this.mapApi.layersObj.layerAdded.subscribe((function(t){-1!==o.indexOf(t.id)&&setTimeout((function(){n.setLayer(a.cloneDeep(t),n.config.layers)}),1e3)}))},t.prototype.onMenuItemClick=function(){var t=this;return function(){t._button.isActive=!t._button.isActive,t._button.isActive?t.panel.open():t.panel.close()}},t.prototype.setLayer=function(t,e){var n=this,r=e.find((function(e){return e.id===t.id}));this.extendConfig.layers.push(r),this.extendConfig.nbLayers+=1;var i=t.type;"esriDynamic"!==i&&"esriFeature"!==i||this.extendConfig.nbLayers!==this.config.layers.length?"ogcWms"===i&&this.extendConfig.nbLayers===this.config.layers.length&&this.setSliderBar():0===t.getAttributes().length&&this.mapApi.layers.attributesAdded.pipe(s.take(1)).subscribe((function(t){if(t.attributes.length>0){console.log(t.attributes);for(var e=[],i=0,o=t.attributes;i<o.length;i++){var u=o[i];e.push(u[r.field])}var s={min:Math.min.apply(null,e),max:Math.max.apply(null,e)};null===n.extendConfig.limit.min&&(n.extendConfig.limit=s),null===n.extendConfig.range.min&&(n.extendConfig.range=s),console.log(s)}n.setSliderBar()}))},t.prototype.setSliderBar=function(){this.extendConfig.step=this.extendConfig.range.max-this.extendConfig.range.min,this.slider=new u.SliderBar(this.mapApi,this.extendConfig),this.setBarControls(this.config.controls),this.config.open&&this.panel.open()},t.prototype.setBarControls=function(t){for(var e=[i.PLAY_BAR_TEMPLATE],n=0,r=t;n<r.length;n++){var u=r[n];"lock"===u?e.unshift(i.LOCK_BAR_TEMPLATE):"loop"===u?e.push(i.LOOP_BAR_TEMPLATE):"refresh"===u?e.push(i.REFRESH_BAR_TEMPLATE):"delay"===u?e.push(i.DELAY_BAR_TEMPLATE):"export"===u&&e.push(i.EXPORT_BAR_TEMPLATE)}this.panel.controls=new o.SliderControls(this.mapApi,this.panel,e,this.slider)},t}();e.default=c,c.prototype.panelOptions={top:"calc(100% - 165px)",height:"110px","margin-right":"60px","margin-left":"420px"},c.prototype.layerOptions={precision:2,delay:3e3,lock:!1,loop:!1,export:!1,range:{min:null,max:null},limit:{min:null,max:null},layers:[],nbLayers:0},c.prototype.translations={"en-CA":{title:"Range Slider",bar:{lock:"Lock left anchor",unlock:"Unlock left anchor",loop:"Animate in loop",unloop:"Do not animate in loop",previous:"Previous",play:"Play",pause:"Pause",foward:"Next",delay:"Delay",refresh:"Refresh",gif:"GIF",tooltip:{gif:'If enabled, click "Play" to start then "Pause" to export GIF'}}},"fr-CA":{title:"Curseur de plage",bar:{lock:"Verrouiller la molette gauche",unlock:"Déverrouiller la molette gauche",loop:"animer en boucle",unloop:"Ne pas animer en boucle",previous:"Précédent",play:"Jouer",pause:"Pause",foward:"Prochain",delay:"Délai",refresh:"Rafraîchir",gif:"GIF",tooltip:{gif:'Si activé, cliquez sur "Jouer" pour démarrer, puis sur "Pause" pour exporter le GIF'}}}},window.rangeSlider=c},function(t,e,n){"use strict";function r(t){return'<svg xmlns="http://www.w3.org/2000/svg" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" focusable="false">\n            <g id="slider'+t+'">'+{histo:'<path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>',lock:'<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path>',lockOpen:'<path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path>',loop:'<path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"></path>',next:'<path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path>',previous:'<path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path>',play:'<path d="M8 5v14l11-7z"></path>',pause:'<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>',refresh:'<path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path>'}[t]+"</g></svg>"}Object.defineProperty(e,"__esModule",{value:!0}),e.SLIDER_TEMPLATE='\n<div rv-focus-member class="rv-rangeslider">\n    <div class="slider-content">\n        <div class="slider-bar">\n            <div id="nouislider" class="slider-widget"></div>\n            <div class="slider-controls"></div>\n        </div>\n    </div>\n</div>',e.LOCK_BAR_TEMPLATE='\n<div class="slider-bar-control slider-lock-control" ng-controller="LockSliderCtrl as ctrl">\n    <md-button\n        aria-label="{{ !ctrl.isLocked ? \'plugins.rangeSlider.bar.lock\' : \'plugins.rangeSlider.bar.unlock\' | translate }}"\n        class="md-icon-button primary"\n        ng-click="ctrl.lock()">\n        <md-tooltip>{{ !ctrl.isLocked ? \'plugins.rangeSlider.bar.lock\' : \'plugins.rangeSlider.bar.unlock\' | translate }}</md-tooltip>\n        <md-icon ng-if="ctrl.isLocked">'+r("lock")+'</md-icon>\n        <md-icon ng-if="!ctrl.isLocked">'+r("lockOpen")+"</md-icon>\n    </md-button>\n</div>",e.LOOP_BAR_TEMPLATE='\n<div class="slider-bar-control slider-loop-control" ng-controller="LoopSliderCtrl as ctrl">\n    <md-button\n        aria-label="{{ !ctrl.isLooped ? \'plugins.rangeSlider.bar.loop\' : \'plugins.rangeSlider.bar.unloop\' | translate }}"\n        class="md-icon-button primary"\n        ng-click="ctrl.loop()">\n        <md-tooltip>{{ !ctrl.isLooped ? \'plugins.rangeSlider.bar.loop\' : \'plugins.rangeSlider.bar.unloop\' | translate }}</md-tooltip>\n        <md-icon>'+r("loop")+"</md-icon>\n    </md-button>\n</div>",e.PLAY_BAR_TEMPLATE='\n<div class="slider-bar-control slider-play-control">\n    <md-button\n        ng-controller="StepSliderCtrl as ctrl"\n        aria-label="{{ \'plugins.rangeSlider.bar.previous\' | translate }}"\n        class="md-icon-button primary"\n        ng-click="ctrl.step(\'down\')">\n        <md-tooltip>{{ \'plugins.rangeSlider.bar.previous\' | translate }}</md-tooltip>\n        <md-icon>'+r("previous")+'</md-icon>\n    </md-button>\n    <div ng-controller="PlaySliderCtrl as ctrl">\n        <md-button\n            aria-label="{{ ctrl.isPlaying ? \'plugins.rangeSlider.bar.pause\' : \'plugins.rangeSlider.bar.play\' | translate }}"\n            class="md-icon-button primary"\n            ng-click="ctrl.play()">\n            <md-tooltip>{{ ctrl.isPlaying ? \'plugins.rangeSlider.bar.pause\' : \'plugins.rangeSlider.bar.play\' | translate }}</md-tooltip>\n            <md-icon ng-if="ctrl.isPlaying">'+r("pause")+'</md-icon>\n            <md-icon ng-if="!ctrl.isPlaying">'+r("play")+'</md-icon>\n        </md-button>\n    </div>\n    <md-button\n        ng-controller="StepSliderCtrl as ctrl"\n        aria-label="{{ \'plugins.rangeSlider.bar.foward\' | translate }}"\n        class="md-icon-button primary"\n        ng-click="ctrl.step(\'up\')">\n        <md-tooltip>{{ \'plugins.rangeSlider.bar.foward\' | translate }}</md-tooltip>\n        <md-icon>'+r("next")+"</md-icon>\n    </md-button>\n</div>",e.REFRESH_BAR_TEMPLATE='\n<div class="slider-bar-control slider-refresh-control">\n    <md-button\n        ng-controller="RefreshSliderCtrl as ctrl"\n        aria-label="{{ \'plugins.rangeSlider.bar.refresh\' | translate }}"\n        class="md-icon-button primary rv-slider-refresh"\n        ng-click="ctrl.refresh()">\n        <md-tooltip>{{ \'plugins.rangeSlider.bar.refresh\' | translate }}</md-tooltip>\n        <md-icon>'+r("refresh")+"</md-icon>\n    </md-button>\n</div>",e.DELAY_BAR_TEMPLATE='\n<div ng-controller="DelaySliderCtrl as ctrl" class="slider-bar-control slider-delay-control">\n    <md-input-container class="md-block" md-no-float flex>\n        <label>{{ \'plugins.rangeSlider.bar.delay\' | translate }}</label>\n        <md-select\n            aria-label="{{ \'plugins.rangeSlider.bar.delay\' | translate }}"\n            ng-model="ctrl.selectedDelay"\n            ng-change="ctrl.selectDelay()">\n            <md-option ng-repeat="(key, value) in { 3000: \'3 sec\', 4000: \'4 sec\', 5000: \'5 sec\', 6000: \'6 sec\', 7000: \'7 sec\' }" ng-value="{{ key }}">\n                {{ value }}\n            </md-option>\n        </md-select>\n    </md-input-container>\n</div>',e.EXPORT_BAR_TEMPLATE='\n<div class="slider-bar-control slider-export-control">\n    <span>\n        <md-switch\n            ng-controller="ExportSliderCtrl as ctrl"\n            aria-label="{{ \'plugins.rangeSlider.bar.tooltip.gif\' | translate }}"\n            class="rv-slider-switch"\n            ng-class="md-primary"\n            ng-model="ctrl.export"\n            ng-change="ctrl.selectExport()">\n            <label>{{ \'plugins.rangeSlider.bar.gif\' | translate }}</label>\n        </md-switch>\n        <md-tooltip>{{ \'plugins.rangeSlider.bar.tooltip.gif\' | translate }}</md-tooltip>\n    </span>\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){function t(t,e,n,i){this.mapApi=t,t.agControllerRegister("LockSliderCtrl",(function(){var t=this;this.isLocked=i.lock,this.lock=function(){i.lock=!i.lock,t.isLocked=i.lock}})),t.agControllerRegister("LoopSliderCtrl",(function(){var e=this;this.isLooped=i.loop,this.loop=function(){i.loop=!i.loop,e.isLooped=i.loop,t.fgpMapObj.esriMap.root.parentElement.parentElement.getElementsByClassName("slider-loop-control")[0].getElementsByTagName("md-icon")[0].classList.toggle("slider-loop-control-active")}})),t.agControllerRegister("StepSliderCtrl",(function(){this.step=function(t){i.step(t)}})),t.agControllerRegister("PlaySliderCtrl",(function(){var t=this;r.SliderBar.getPlayState().subscribe((function(e){t.isPlaying=e})),this.play=function(){i.play(!t.isPlaying)}})),t.agControllerRegister("RefreshSliderCtrl",(function(){this.refresh=function(){i.refresh()}})),t.agControllerRegister("DelaySliderCtrl",(function(){var t=this;this.selectedDelay=i.delay,this.selectDelay=function(){i.delay=t.selectedDelay}})),t.agControllerRegister("ExportSliderCtrl",(function(){var t=this;this.export=i.export,this.selectExport=function(){i.export=t.export}}));for(var o=e.body.find(".slider-controls"),u=0,s=n;u<s.length;u++){var a=s[u];a.includes("slider-delay-control")?o.find(".slider-play-control").append(this.compileTemplate(a)):a.includes("slider-loop-control")?o.find(".slider-play-control").prepend(this.compileTemplate(a)):o.append(this.compileTemplate(a))}}return t.prototype.compileTemplate=function(t){var e=$(t);return this.mapApi.$compile(e),e},t}();e.SliderControls=i},function(t,e,n){var r,i,o;/*! nouislider - 13.1.5 - 4/24/2019 */i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t="13.1.5";function e(t){t.parentElement.removeChild(t)}function n(t){return null!=t}function r(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function o(t,e,n){n>0&&(c(t,e),setTimeout((function(){l(t,e)}),n))}function u(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function a(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function h(t,e){return 100/(e-t)}function p(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var n=1;t>=e[n];)n+=1;return n}function v(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=d(n,t),i=t[r-1],o=t[r],u=e[r-1],s=e[r];return u+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([i,o],n)/h(u,s)}function g(t,e,n,r){if(100===r)return r;var i=d(r,t),o=t[i-1],u=t[i];return n?r-o>(u-o)/2?u:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(r-t[i-1],e[i-1]):r}function m(t,e,n){var r;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (13.1.5): 'range' contains invalid value.");if(!i(r="min"===t?0:"max"===t?100:parseFloat(t))||!i(e[0]))throw new Error("noUiSlider (13.1.5): 'range' value isn't numeric.");n.xPct.push(r),n.xVal.push(e[0]),r?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1]),n.xHighestCompleteStep.push(0)}function b(t,e,n){if(e)if(n.xVal[t]!==n.xVal[t+1]){n.xSteps[t]=p([n.xVal[t],n.xVal[t+1]],e)/h(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],i=Math.ceil(Number(r.toFixed(3))-1),o=n.xVal[t]+n.xNumSteps[t]*i;n.xHighestCompleteStep[t]=o}else n.xSteps[t]=n.xHighestCompleteStep[t]=n.xVal[t]}function y(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(r in t)t.hasOwnProperty(r)&&i.push([t[r],r]);for(i.length&&"object"==typeof i[0][0]?i.sort((function(t,e){return t[0][0]-e[0][0]})):i.sort((function(t,e){return t[0]-e[0]})),r=0;r<i.length;r++)m(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)b(r,this.xNumSteps[r],this)}y.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider (13.1.5): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&p(this.xVal,t)},y.prototype.toStepping=function(t){return t=v(this.xVal,this.xPct,t)},y.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=d(n,e),i=t[r-1],o=t[r],u=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(n-u)*h(u,e[r]))}(this.xVal,this.xPct,t)},y.prototype.getStep=function(t){return t=g(this.xPct,this.xSteps,this.snap,t)},y.prototype.getDefaultStep=function(t,e,n){var r=d(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},y.prototype.getNearbySteps=function(t){var e=d(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},y.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(a);return Math.max.apply(null,t)},y.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var _={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function w(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (13.1.5): 'format' requires 'to' and 'from' methods.")}function x(t,e){if(!i(e))throw new Error("noUiSlider (13.1.5): 'step' is not numeric.");t.singleStep=e}function S(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (13.1.5): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (13.1.5): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (13.1.5): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new y(e,t.snap,t.singleStep)}function E(t,e){if(e=s(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (13.1.5): 'start' option is incorrect.");t.handles=e.length,t.start=e}function A(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (13.1.5): 'snap' option must be a boolean.")}function C(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (13.1.5): 'animate' option must be a boolean.")}function O(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (13.1.5): 'animationDuration' option must be a number.")}function k(t,e){var n,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (13.1.5): 'connect' option doesn't match handle count.");r=e}t.connect=r}function j(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (13.1.5): 'orientation' option is invalid.")}}function P(t,e){if(!i(e))throw new Error("noUiSlider (13.1.5): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider (13.1.5): 'margin' option is only supported on linear sliders.")}function T(t,e){if(!i(e))throw new Error("noUiSlider (13.1.5): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider (13.1.5): 'limit' option is only supported on linear sliders with 2 or more handles.")}function I(t,e){if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider (13.1.5): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider (13.1.5): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){if(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getMargin(e[0]),t.spectrum.getMargin(e[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider (13.1.5): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider (13.1.5): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>100)throw new Error("noUiSlider (13.1.5): 'padding' option must not exceed 100% of the range.")}}function R(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (13.1.5): 'direction' option was not recognized.")}}function M(t,e){if("string"!=typeof e)throw new Error("noUiSlider (13.1.5): 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,u=e.indexOf("hover")>=0,s=e.indexOf("unconstrained")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider (13.1.5): 'fixed' behaviour must be used with 2 handles");P(t,t.start[1]-t.start[0])}if(s&&(t.margin||t.limit))throw new Error("noUiSlider (13.1.5): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||o,drag:r,fixed:i,snap:o,hover:u,unconstrained:s}}function N(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(!0)}else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (13.1.5): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (13.1.5): 'tooltips' must be passed a formatter or 'false'.")}))}}function U(t,e){t.ariaFormat=e,w(e)}function L(t,e){t.format=e,w(e)}function F(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (13.1.5): 'keyboardSupport' option must be a boolean.")}function V(t,e){t.documentElement=e}function D(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (13.1.5): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function z(t,e){if("object"!=typeof e)throw new Error("noUiSlider (13.1.5): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var n in t.cssClasses={},e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n]);else t.cssClasses=e}function W(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:_,format:_},r={step:{r:!1,t:x},start:{r:!0,t:E},connect:{r:!0,t:k},direction:{r:!0,t:R},snap:{r:!1,t:A},animate:{r:!1,t:C},animationDuration:{r:!1,t:O},range:{r:!0,t:S},orientation:{r:!1,t:j},margin:{r:!1,t:P},limit:{r:!1,t:T},padding:{r:!1,t:I},behaviour:{r:!0,t:M},ariaFormat:{r:!1,t:U},format:{r:!1,t:L},tooltips:{r:!1,t:N},keyboardSupport:{r:!0,t:F},documentElement:{r:!1,t:V},cssPrefix:{r:!0,t:D},cssClasses:{r:!0,t:z}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach((function(o){if(!n(t[o])&&void 0===i[o]){if(r[o].r)throw new Error("noUiSlider (13.1.5): '"+o+"' is required.");return!0}r[o].t(e,n(t[o])?t[o]:i[o])})),e.pips=t.pips;var o=document.createElement("div"),u=void 0!==o.style.msTransform,s=void 0!==o.style.transform;return e.transformRule=s?"transform":u?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function B(t,n,i){var a,h,p,d,v,g,m,b,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},_=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),w=t,x=n.spectrum,S=[],E=[],A=[],C=0,O={},k=t.ownerDocument,j=n.documentElement||k.documentElement,P=k.body,T="rtl"===k.dir||1===n.ort?0:100;function I(t,e){var n=k.createElement("div");return e&&c(n,e),t.appendChild(n),n}function R(t,e){var r=I(t,n.cssClasses.origin),i=I(r,n.cssClasses.handle);return I(i,n.cssClasses.touchArea),i.setAttribute("data-handle",e),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(t){return function(t,e){if(U()||L(e))return!1;var r=["Left","Right"],i=["Down","Up"];n.dir&&!n.ort?r.reverse():n.ort&&!n.dir&&i.reverse();var o=t.key.replace("Arrow",""),u=o===i[0]||o===r[0],s=o===i[1]||o===r[1];if(!u&&!s)return!0;t.preventDefault();var a=u?0:1,c=pt(e)[a];return null===c||(!1===c&&(c=x.getDefaultStep(E[e],u,10)),c=Math.max(c,1e-7),c*=u?-1:1,ft(e,S[e]+c,!0)),!1}(t,e)}))),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?c(i,n.cssClasses.handleLower):e===n.handles-1&&c(i,n.cssClasses.handleUpper),r}function M(t,e){return!!e&&I(t,n.cssClasses.connect)}function N(t,e){return!!n.tooltips[e]&&I(t.firstChild,n.cssClasses.tooltip)}function U(){return w.hasAttribute("disabled")}function L(t){return h[t].hasAttribute("disabled")}function F(){v&&(tt("update.tooltips"),v.forEach((function(t){t&&e(t)})),v=null)}function V(){F(),v=h.map(N),Q("update.tooltips",(function(t,e,r){if(v[e]){var i=t[e];!0!==n.tooltips[e]&&(i=n.tooltips[e].to(r[e])),v[e].innerHTML=i}}))}function D(t,e,r){var i=k.createElement("div"),o=[];o[0]=n.cssClasses.valueNormal,o[1]=n.cssClasses.valueLarge,o[2]=n.cssClasses.valueSub;var u=[];u[0]=n.cssClasses.markerNormal,u[1]=n.cssClasses.markerLarge,u[2]=n.cssClasses.markerSub;var s=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],a=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function l(t,e){var r=e===n.cssClasses.value,i=r?o:u;return e+" "+(r?s:a)[n.ort]+" "+i[t]}return c(i,n.cssClasses.pips),c(i,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach((function(o){!function(t,o,u){if(-1!==(u=e?e(o,u):u)){var s=I(i,!1);s.className=l(u,n.cssClasses.marker),s.style[n.style]=t+"%",u>0&&((s=I(i,!1)).className=l(u,n.cssClasses.value),s.setAttribute("data-value",o),s.style[n.style]=t+"%",s.innerHTML=r.to(o))}}(o,t[o][0],t[o][1])})),i}function z(){d&&(e(d),d=null)}function B(t){z();var e=t.mode,n=t.density||1,r=t.filter||!1,i=function(t,e,n){if("range"===t||"steps"===t)return x.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (13.1.5): 'values' (>= 2) required for mode 'count'.");var r=e-1,i=100/r;for(e=[];r--;)e[r]=r*i;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return x.fromStepping(n?x.getStep(t):t)})):"values"===t?n?e.map((function(t){return x.fromStepping(x.getStep(x.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),o=function(t,e,n){var r,i={},o=x.xVal[0],u=x.xVal[x.xVal.length-1],s=!1,a=!1,c=0;return r=n.slice().sort((function(t,e){return t-e})),(n=r.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==u&&(n.push(u),a=!0),n.forEach((function(r,o){var u,l,f,h,p,d,v,g,m,b,y=r,_=n[o+1],w="steps"===e;if(w&&(u=x.xNumSteps[o]),u||(u=_-y),!1!==y&&void 0!==_)for(u=Math.max(u,1e-7),l=y;l<=_;l=(l+u).toFixed(7)/1){for(g=(p=(h=x.toStepping(l))-c)/t,b=p/(m=Math.round(g)),f=1;f<=m;f+=1)i[(d=c+f*b).toFixed(5)]=[x.fromStepping(d),0];v=n.indexOf(l)>-1?1:w?2:0,!o&&s&&(v=0),l===_&&a||(i[h.toFixed(5)]=[l,v]),c=h}})),i}(n,e,i),u=t.format||{to:Math.round};return d=w.appendChild(D(o,r,u))}function H(){var t=a.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||a[e]:t.height||a[e]}function q(t,e,r,i){var o=function(o){return!!(o=function(t,e,n){var r,i,o=0===t.type.indexOf("touch"),u=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),o){var a=function(t){return t.target===n||n.contains(t.target)};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,a);if(c.length>1)return!1;r=c[0].pageX,i=c[0].pageY}else{var l=Array.prototype.find.call(t.changedTouches,a);if(!l)return!1;r=l.pageX,i=l.pageY}}return e=e||f(k),(u||s)&&(r=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[r,i],t.cursor=u||s,t}(o,i.pageOffset,i.target||e))&&!(U()&&!i.doNotReject)&&(u=w,s=n.cssClasses.tap,!((u.classList?u.classList.contains(s):new RegExp("\\b"+s+"\\b").test(u.className))&&!i.doNotReject)&&!(t===y.start&&void 0!==o.buttons&&o.buttons>1)&&(!i.hover||!o.buttons)&&(_||o.preventDefault(),o.calcPoint=o.points[n.ort],void r(o,i)));var u,s},u=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!!_&&{passive:!0}),u.push([t,o])})),u}function Y(t){var e,r,i,o,s,c,l=100*(t-(e=a,r=n.ort,i=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,c=f(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),r?i.top+c.y-s.clientTop:i.left+c.x-s.clientLeft))/H();return l=u(l),n.dir?100-l:l}function G(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&X(t,e)}function $(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return X(t,e);var r=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);it(r>0,100*r/e.baseSize,e.locations,e.handleNumbers)}function X(t,e){e.handle&&(l(e.handle,n.cssClasses.active),C-=1),e.listeners.forEach((function(t){j.removeEventListener(t[0],t[1])})),0===C&&(l(w,n.cssClasses.drag),ut(),t.cursor&&(P.style.cursor="",P.removeEventListener("selectstart",r))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function Z(t,e){if(e.handleNumbers.some(L))return!1;var i;1===e.handleNumbers.length&&(i=h[e.handleNumbers[0]].children[0],C+=1,c(i,n.cssClasses.active)),t.stopPropagation();var o=[],u=q(y.move,j,$,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:H(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:E.slice()}),s=q(y.end,j,X,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),a=q("mouseout",j,G,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,u.concat(s,a)),t.cursor&&(P.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&c(w,n.cssClasses.drag),P.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function K(t){t.stopPropagation();var e=Y(t.calcPoint),r=function(t){var e=100,n=!1;return h.forEach((function(r,i){if(!L(i)){var o=Math.abs(E[i]-t);(o<e||100===o&&100===e)&&(n=i,e=o)}})),n}(e);if(!1===r)return!1;n.events.snap||o(w,n.cssClasses.tap,n.animationDuration),st(r,e,!0,!0),ut(),et("slide",r,!0),et("update",r,!0),et("change",r,!0),et("set",r,!0),n.events.snap&&Z(t,{handleNumbers:[r]})}function J(t){var e=Y(t.calcPoint),n=x.getStep(e),r=x.fromStepping(n);Object.keys(O).forEach((function(t){"hover"===t.split(".")[0]&&O[t].forEach((function(t){t.call(g,r)}))}))}function Q(t,e){O[t]=O[t]||[],O[t].push(e),"update"===t.split(".")[0]&&h.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(O).forEach((function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete O[t]}))}function et(t,e,r){Object.keys(O).forEach((function(i){var o=i.split(".")[0];t===o&&O[i].forEach((function(t){t.call(g,S.map(n.format.to),e,S.slice(),r||!1,E.slice())}))}))}function nt(t,e,r,i,o,s){return h.length>1&&!n.events.unconstrained&&(i&&e>0&&(r=Math.max(r,t[e-1]+n.margin)),o&&e<h.length-1&&(r=Math.min(r,t[e+1]-n.margin))),h.length>1&&n.limit&&(i&&e>0&&(r=Math.min(r,t[e-1]+n.limit)),o&&e<h.length-1&&(r=Math.max(r,t[e+1]-n.limit))),n.padding&&(0===e&&(r=Math.max(r,n.padding[0])),e===h.length-1&&(r=Math.min(r,100-n.padding[1]))),!((r=u(r=x.getStep(r)))===t[e]&&!s)&&r}function rt(t,e){var r=n.ort;return(r?e:t)+", "+(r?t:e)}function it(t,e,n,r){var i=n.slice(),o=[!t,t],u=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=nt(i,t,i[t]+e,o[n],u[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)})):o=u=[!0];var s=!1;r.forEach((function(t,r){s=st(t,n[t]+e,o[r],u[r])||s})),s&&r.forEach((function(t){et("update",t),et("slide",t)}))}function ot(t,e){return n.dir?100-t-e:t}function ut(){A.forEach((function(t){var e=E[t]>50?-1:1,n=3+(h.length+e*t);h[t].style.zIndex=n}))}function st(t,e,r,i){return!1!==(e=nt(E,t,e,r,i,!1))&&(function(t,e){E[t]=e,S[t]=x.fromStepping(e);var r="translate("+rt(ot(e,0)-T+"%","0")+")";h[t].style[n.transformRule]=r,at(t),at(t+1)}(t,e),!0)}function at(t){if(p[t]){var e=0,r=100;0!==t&&(e=E[t-1]),t!==p.length-1&&(r=E[t]);var i=r-e,o="translate("+rt(ot(e,i)+"%","0")+")",u="scale("+rt(i/100,"1")+")";p[t].style[n.transformRule]=o+" "+u}}function ct(t,e){return null===t||!1===t||void 0===t?E[e]:("number"==typeof t&&(t=String(t)),t=n.format.from(t),!1===(t=x.toStepping(t))||isNaN(t)?E[e]:t)}function lt(t,e){var r=s(t),i=void 0===E[0];e=void 0===e||!!e,n.animate&&!i&&o(w,n.cssClasses.tap,n.animationDuration),A.forEach((function(t){st(t,ct(r[t],t),!0,!1)})),A.forEach((function(t){st(t,E[t],!0,!0)})),ut(),A.forEach((function(t){et("update",t),null!==r[t]&&e&&et("set",t)}))}function ft(t,e,n){if(!((t=Number(t))>=0&&t<A.length))throw new Error("noUiSlider (13.1.5): invalid handle number, got: "+t);st(t,ct(e,t),!0,!0),et("update",t),n&&et("set",t)}function ht(){var t=S.map(n.format.to);return 1===t.length?t[0]:t}function pt(t){var e=E[t],r=x.getNearbySteps(e),i=S[t],o=r.thisStep.step,u=null;if(n.snap)return[i-r.stepBefore.startValue||null,r.stepAfter.startValue-i||null];!1!==o&&i+o>r.stepAfter.startValue&&(o=r.stepAfter.startValue-i),u=i>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&i-r.stepBefore.highestStep,100===e?o=null:0===e&&(u=null);var s=x.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==u&&!1!==u&&(u=Number(u.toFixed(s))),[u,o]}return c(m=w,n.cssClasses.target),0===n.dir?c(m,n.cssClasses.ltr):c(m,n.cssClasses.rtl),0===n.ort?c(m,n.cssClasses.horizontal):c(m,n.cssClasses.vertical),a=I(m,n.cssClasses.base),function(t,e){var r=I(e,n.cssClasses.connects);h=[],(p=[]).push(M(r,t[0]));for(var i=0;i<n.handles;i++)h.push(R(e,i)),A[i]=i,p.push(M(r,t[i+1]))}(n.connect,a),(b=n.events).fixed||h.forEach((function(t,e){q(y.start,t.children[0],Z,{handleNumbers:[e]})})),b.tap&&q(y.start,a,K,{}),b.hover&&q(y.move,a,J,{hover:!0}),b.drag&&p.forEach((function(t,e){if(!1!==t&&0!==e&&e!==p.length-1){var r=h[e-1],i=h[e],o=[t];c(t,n.cssClasses.draggable),b.fixed&&(o.push(r.children[0]),o.push(i.children[0])),o.forEach((function(t){q(y.start,t,Z,{handles:[r,i],handleNumbers:[e-1,e]})}))}})),lt(n.start),n.pips&&B(n.pips),n.tooltips&&V(),Q("update",(function(t,e,r,i,o){A.forEach((function(t){var e=h[t],i=nt(E,t,0,!0,!0,!0),u=nt(E,t,100,!0,!0,!0),s=o[t],a=n.ariaFormat.to(r[t]);i=x.fromStepping(i).toFixed(1),u=x.fromStepping(u).toFixed(1),s=x.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",u),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",a)}))})),g={destroy:function(){for(var t in n.cssClasses)n.cssClasses.hasOwnProperty(t)&&l(w,n.cssClasses[t]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return A.map(pt)},on:Q,off:tt,get:ht,set:lt,setHandle:ft,reset:function(t){lt(n.start,t)},__moveHandles:function(t,e,n){it(t,e,E,n)},options:i,updateOptions:function(t,e){var r=ht(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(e){void 0!==t[e]&&(i[e]=t[e])}));var u=W(i);o.forEach((function(e){void 0!==t[e]&&(n[e]=u[e])})),x=u.spectrum,n.margin=u.margin,n.limit=u.limit,n.padding=u.padding,n.pips?B(n.pips):z(),n.tooltips?V():F(),E=[],lt(t.start||r,e)},target:w,removePips:z,removeTooltips:F,pips:B}}return{__spectrum:y,version:t,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (13.1.5): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (13.1.5): Slider was already initialized.");var n=B(t,W(e),e);return t.noUiSlider=n,n}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){!function(e){"use strict";var n=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n=e(t).toLowerCase();return(r="application/font-woff",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);e(new Blob([i],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=e,i.href=t,i.href},getAndEncode:function(t){s.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise((function(e){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4!==r.readyState)return;if(200!==r.status)return void(n?e(n):o("cannot fetch resource: "+t+", status: "+r.status));var i=new FileReader;i.onloadend=function(){var t=i.result.split(/,/)[1];e(t)},i.readAsDataURL(r.response)},r.ontimeout=function(){n?e(n):o("timeout of 30000ms occured while fetching resource: "+t)},r.responseType="blob",r.timeout=3e4,r.open("GET",t,!0),r.send(),s.impl.options.imagePlaceholder){var i=s.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(n=i[1])}function o(t){console.error(t),e("")}}))},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t}))},width:function(t){var e=n(t,"border-left-width"),r=n(t,"border-right-width");return t.scrollWidth+e+r},height:function(t){var e=n(t,"border-top-width"),r=n(t,"border-bottom-width");return t.scrollHeight+e+r}};var t;function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),r=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,n,o){return function(){return!e(t)}()?Promise.resolve(t):Promise.resolve(t).then(r).then((function(e){var r=Promise.resolve(t);return e.forEach((function(t){r=r.then((function(e){return i(e,t,n,o)}))})),r}))},shouldProcess:e,impl:{readUrls:r,inline:i}};function e(e){return-1!==e.search(t)}function r(e){for(var r,i=[];null!==(r=t.exec(e));)i.push(r[1]);return i.filter((function(t){return!n.isDataUrl(t)}))}function i(t,e,r,i){return Promise.resolve(e).then((function(t){return r?n.resolveUrl(t,r):t})).then(i||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e))})).then((function(r){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+n.escape(t)+")(['\"]?\\))","g")}(e),"$1"+r+"$3")}))}}(),i=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{n.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return r.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function e(i){return i instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?r.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(i).then((function(){return i instanceof HTMLImageElement?t(i).inline():Promise.all(n.asArray(i.childNodes).map((function(t){return e(t)})))})):Promise.resolve(i)},impl:{newImage:t}};function t(t){return{inline:function(e){return n.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t.src))})).then((function(e){return new Promise((function(n,r){t.onload=n,t.onerror=r,t.src=e}))}))}}}}(),u={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:a,toPng:function(t,e){return c(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return c(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return c(t,e||{}).then(n.canvasToBlob)},toPixelData:function(t,e){return c(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,n.width(t),n.height(t)).data}))},impl:{fontFaces:i,images:o,util:n,inliner:r,options:{}}};function a(t,e){return function(t){void 0===t.imagePlaceholder?s.impl.options.imagePlaceholder=u.imagePlaceholder:s.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?s.impl.options.cacheBust=u.cacheBust:s.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return function t(e,r,i){return i||!r||r(e)?Promise.resolve(e).then((function(t){return t instanceof HTMLCanvasElement?n.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(t){return o(e,t,r)})).then((function(t){return function(t,e){return e instanceof Element?Promise.resolve().then(r).then(i).then(o).then(u).then((function(){return e})):e;function r(){var r,i;r=window.getComputedStyle(t),i=e.style,r.cssText?i.cssText=r.cssText:function(t,e){n.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}(r,i)}function i(){[":before",":after"].forEach((function(r){!function(r){var i=window.getComputedStyle(t,r),o=i.getPropertyValue("content");if(""===o||"none"===o)return;var u=n.uid();e.className=e.className+" "+u;var s=document.createElement("style");s.appendChild(function(t,e,r){var i="."+t+":"+e,o=r.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(r):function(t){return n.asArray(t).map((function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")})).join("; ")+";"}(r);return document.createTextNode(i+"{"+o+"}")}(u,r,i)),e.appendChild(s)}(r)}))}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function u(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}}(e,t)})):Promise.resolve();function o(e,r,i){var o=e.childNodes;return 0===o.length?Promise.resolve(r):u(r,n.asArray(o),i).then((function(){return r}));function u(e,n,r){var i=Promise.resolve();return n.forEach((function(n){i=i.then((function(){return t(n,r)})).then((function(t){t&&e.appendChild(t)}))})),i}}}(t,e.filter,!0)})).then(l).then(f).then((function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor);e.width&&(t.style.width=e.width+"px");e.height&&(t.style.height=e.height+"px");e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]}));return t})).then((function(r){return function(t,e,r){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(n.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(r,e.width||n.width(t),e.height||n.height(t))}))}function c(t,e){return a(t,e).then(n.makeImage).then(n.delay(100)).then((function(r){var i=function(t){var r=document.createElement("canvas");if(r.width=e.width||n.width(t),r.height=e.height||n.height(t),e.bgcolor){var i=r.getContext("2d");i.fillStyle=e.bgcolor,i.fillRect(0,0,r.width,r.height)}return r}(t);return i.getContext("2d").drawImage(r,0,0),i}))}function l(t){return i.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function f(t){return o.inlineAll(t).then((function(){return t}))}t.exports=s}()},function(t,e,n){var r;!function(n,i,o,u){"use strict";var s,a,c={URL:n.URL||n.webkitURL||n.mozURL||n.msURL,getUserMedia:(a=o.getUserMedia||o.webkitGetUserMedia||o.mozGetUserMedia||o.msGetUserMedia,a?a.bind(o):a),requestAnimFrame:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,requestTimeout:function(t,e){if(t=t||c.noop,e=e||0,!c.requestAnimFrame)return setTimeout(t,e);var n=(new Date).getTime(),r=new Object,i=c.requestAnimFrame;return r.value=i((function o(){(new Date).getTime()-n>=e?t.call():r.value=i(o)})),r},Blob:n.Blob||n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder,btoa:(s=n.btoa||function(t){for(var e="",n=0,r=t.length,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=void 0,u=void 0,s=void 0,a=void 0,c=void 0,l=void 0,f=void 0;n<r;)a=(o=t.charCodeAt(n++))>>2,c=(3&o)<<4|(u=t.charCodeAt(n++))>>4,l=(15&u)<<2|(s=t.charCodeAt(n++))>>6,f=63&s,isNaN(u)?l=f=64:isNaN(s)&&(f=64),e=e+i.charAt(a)+i.charAt(c)+i.charAt(l)+i.charAt(f);return e},s?s.bind(n):c.noop),isObject:function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return c.isObject(t)&&!Object.keys(t).length},isArray:function(t){return t&&Array.isArray(t)},isFunction:function(t){return t&&"function"==typeof t},isElement:function(t){return t&&1===t.nodeType},isString:function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},isSupported:{canvas:function(){var t=i.createElement("canvas");return t&&t.getContext&&t.getContext("2d")},webworkers:function(){return n.Worker},blob:function(){return c.Blob},Uint8Array:function(){return n.Uint8Array},Uint32Array:function(){return n.Uint32Array},videoCodecs:function(){var t=i.createElement("video"),e={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{t&&t.canPlayType&&(e.mp4=""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),e.h264=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),e.ogv=""!==t.canPlayType('video/ogg; codecs="theora"'),e.ogg=""!==t.canPlayType('video/ogg; codecs="theora"'),e.webm=-1!==t.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(t){}return e}()},noop:function(){},each:function(t,e){var n=void 0,r=void 0;if(c.isArray(t))for(n=-1,r=t.length;++n<r&&!1!==e(n,t[n]););else if(c.isObject(t))for(n in t)if(t.hasOwnProperty(n)&&!1===e(n,t[n]))break},mergeOptions:function(t,e){if(c.isObject(t)&&c.isObject(e)&&Object.keys){var n={};return c.each(t,(function(e,r){n[e]=t[e]})),c.each(e,(function(r,i){var o=e[r];c.isObject(o)&&t[r]?n[r]=c.mergeOptions(t[r],o):n[r]=o})),n}},setCSSAttr:function(t,e,n){c.isElement(t)&&(c.isString(e)&&c.isString(n)?t.style[e]=n:c.isObject(e)&&c.each(e,(function(e,n){t.style[e]=n})))},removeElement:function(t){c.isElement(t)&&t.parentNode&&t.parentNode.removeChild(t)},createWebWorker:function(t){if(!c.isString(t))return{};try{var e=new c.Blob([t],{type:"text/javascript"}),n=c.URL.createObjectURL(e);return{objectUrl:n,worker:new Worker(n)}}catch(t){return""+t}},getExtension:function(t){return t.substr(t.lastIndexOf(".")+1,t.length)},getFontSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.body||!1===t.resizeFont)return t.fontSize;var e=t.text,n=t.gifWidth,r=parseInt(t.fontSize,10),o=parseInt(t.minFontSize,10),u=i.createElement("div"),s=i.createElement("span");for(u.setAttribute("width",n),u.appendChild(s),s.innerHTML=e,s.style.fontSize=r+"px",s.style.textIndent="-9999px",s.style.visibility="hidden",i.body.appendChild(s);s.offsetWidth>n&&r>=o;)s.style.fontSize=--r+"px";return i.body.removeChild(s),r+"px"},webWorkerError:!1},l=Object.freeze({default:c}),f={validate:function(t){t=c.isObject(t)?t:{};var e={};return c.each(f.validators,(function(n,r){var i=r.errorCode;if(!t[i]&&!r.condition)return(e=r).error=!0,!1})),delete e.condition,e},isValid:function(t){var e=!0!==f.validate(t).error;return e},validators:[{condition:c.isFunction(c.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:c.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:c.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:c.isFunction(c.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:c.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:c.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:c.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},h=Object.freeze({default:f}),p=function(){},d={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:p,completeCallback:p,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},v=Object.freeze({default:d});function g(){return f.isValid()}function m(){var t,e,n,r,i,o=256,u=499,s=491,a=487,c=503,l=3*c,f=o-1,h=4,p=100,d=16,v=1<<d,g=10,m=10,b=v>>m,y=v<<g-m,_=o>>3,w=6,x=1<<w,S=_*x,E=30,A=10,C=1<<A,O=8,k=1<<O,j=A+O,P=1<<j,T=[],I=[],R=[],M=[];function N(t,u,s){var a,c;for(e=t,n=u,r=s,i=new Array(o),a=0;a<o;a++)i[a]=new Array(4),(c=i[a])[0]=c[1]=c[2]=(a<<h+8)/o|0,R[a]=v/o|0,I[a]=0}function U(){for(var t=[],e=new Array(o),n=0;n<o;n++)e[i[n][3]]=n;for(var r=0,u=0;u<o;u++){var s=e[u];t[r++]=i[s][0],t[r++]=i[s][1],t[r++]=i[s][2]}return t}function L(){var t,e,n,r,u,s,a,c;for(a=0,c=0,t=0;t<o;t++){for(n=t,r=(u=i[t])[1],e=t+1;e<o;e++)(s=i[e])[1]<r&&(n=e,r=s[1]);if(s=i[n],t!=n&&(e=s[0],s[0]=u[0],u[0]=e,e=s[1],s[1]=u[1],u[1]=e,e=s[2],s[2]=u[2],u[2]=e,e=s[3],s[3]=u[3],u[3]=e),r!=a){for(T[a]=c+t>>1,e=a+1;e<r;e++)T[e]=t;a=r,c=t}}for(T[a]=c+f>>1,e=a+1;e<256;e++)T[e]=f}function F(){var i,o,f,d,v,g,m,b,y,_,x,A,O,j;for(n<l&&(r=1),t=30+(r-1)/3,A=e,O=0,j=n,_=(x=n/(3*r))/p|0,b=C,(m=(g=S)>>w)<=1&&(m=0),i=0;i<m;i++)M[i]=b*((m*m-i*i)*k/(m*m));for(y=n<l?3:n%u!=0?3*u:n%s!=0?3*s:n%a!=0?3*a:3*c,i=0;i<x;)if(B(b,o=H(f=(255&A[O+0])<<h,d=(255&A[O+1])<<h,v=(255&A[O+2])<<h),f,d,v),0!==m&&W(m,o,f,d,v),(O+=y)>=j&&(O-=n),0===_&&(_=1),++i%_==0)for(b-=b/t,(m=(g-=g/E)>>w)<=1&&(m=0),o=0;o<m;o++)M[o]=b*((m*m-o*o)*k/(m*m))}function V(t,e,n){var r,u,s,a,c,l,f;for(c=1e3,f=-1,u=(r=T[e])-1;r<o||u>=0;)r<o&&((s=(l=i[r])[1]-e)>=c?r=o:(r++,s<0&&(s=-s),(a=l[0]-t)<0&&(a=-a),(s+=a)<c&&((a=l[2]-n)<0&&(a=-a),(s+=a)<c&&(c=s,f=l[3])))),u>=0&&((s=e-(l=i[u])[1])>=c?u=-1:(u--,s<0&&(s=-s),(a=l[0]-t)<0&&(a=-a),(s+=a)<c&&((a=l[2]-n)<0&&(a=-a),(s+=a)<c&&(c=s,f=l[3]))));return f}function D(){return F(),z(),L(),U()}function z(){var t;for(t=0;t<o;t++)i[t][0]>>=h,i[t][1]>>=h,i[t][2]>>=h,i[t][3]=t}function W(t,e,n,r,u){var s,a,c,l,f,h,p;for((c=e-t)<-1&&(c=-1),(l=e+t)>o&&(l=o),s=e+1,a=e-1,h=1;s<l||a>c;){if(f=M[h++],s<l){p=i[s++];try{p[0]-=f*(p[0]-n)/P|0,p[1]-=f*(p[1]-r)/P|0,p[2]-=f*(p[2]-u)/P|0}catch(t){}}if(a>c){p=i[a--];try{p[0]-=f*(p[0]-n)/P|0,p[1]-=f*(p[1]-r)/P|0,p[2]-=f*(p[2]-u)/P|0}catch(t){}}}}function B(t,e,n,r,o){var u=i[e],s=t/C;u[0]-=s*(u[0]-n)|0,u[1]-=s*(u[1]-r)|0,u[2]-=s*(u[2]-o)|0}function H(t,e,n){var r,u,s,a,c,l,f,p,v,_;for(v=p=~(1<<31),f=l=-1,r=0;r<o;r++)(u=(_=i[r])[0]-t)<0&&(u=-u),(s=_[1]-e)<0&&(s=-s),u+=s,(s=_[2]-n)<0&&(s=-s),(u+=s)<p&&(p=u,l=r),(a=u-(I[r]>>d-h))<v&&(v=a,f=r),c=R[r]>>m,R[r]-=c,I[r]+=c<<g;return R[l]+=b,I[l]-=y,f}N.apply(this,arguments);var q={};return q.map=V,q.process=D,q}function b(){try{this.onmessage=function(e){var n,r=e.data||{};r.gifshot&&(n=t.run(r),postMessage(n))}}catch(t){}var t={dataToRGB:function(t,e,n){for(var r=e*n*4,i=0,o=[];i<r;)o.push(t[i++]),o.push(t[i++]),o.push(t[i++]),i++;return o},componentizedPaletteToArray:function(t){t=t||[];for(var e=[],n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],o=t[n+2];e.push(r<<16|i<<8|o)}return e},processFrameWithQuantizer:function(t,e,n,r){for(var i=this.dataToRGB(t,e,n),o=new m(i,i.length,r),u=o.process(),s=new Uint32Array(this.componentizedPaletteToArray(u)),a=e*n,c=new Uint8Array(a),l=0,f=0;f<a;f++){var h=i[l++],p=i[l++],d=i[l++];c[f]=o.map(h,p,d)}return{pixels:c,palette:s}},run:function(t){var e=t=t||{},n=e.height,r=(e.palette,e.sampleInterval),i=e.width,o=t.data;return this.processFrameWithQuantizer(o,i,n,r)}};return t}function y(t,e,n,r){var i=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,u=void 0===r.palette?null:r.palette;if(e<=0||n<=0||e>65535||n>65535)throw"Width/Height invalid.";t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=0|(null!==u?128:0),t[i++]=0,t[i++]=0,null!==o){if(o<0||o>65535)throw"Loop count invalid.";t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=0}var s=!1;this.addFrame=function(e,n,r,o,a,c){if(!0===s&&(--i,s=!1),c=void 0===c?{}:c,e<0||n<0||e>65535||n>65535)throw"x/y invalid.";if(r<=0||o<=0||r>65535||o>65535)throw"Width/Height invalid.";if(a.length<r*o)throw"Not enough pixels for the frame size.";var l=!0,f=c.palette;if(null==f&&(l=!1,f=u),null==f)throw"Must supply either a local or global palette.";for(var h=function(t){var e=t.length;if(e<2||e>256||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}(f),p=0;h>>=1;)++p;h=1<<p;var d=void 0===c.delay?0:c.delay,v=void 0===c.disposal?0:c.disposal;if(v<0||v>3)throw"Disposal out of range.";var g=!1,m=0;if(void 0!==c.transparent&&null!==c.transparent&&(g=!0,(m=c.transparent)<0||m>=h))throw"Transparent color index.";if((0!==v||g||0!==d)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=v<<2|(!0===g?1:0),t[i++]=255&d,t[i++]=d>>8&255,t[i++]=m,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=!0===l?128|p-1:0,!0===l)for(var b=0,y=f.length;b<y;++b){var _=f[b];t[i++]=_>>16&255,t[i++]=_>>8&255,t[i++]=255&_}i=function(t,e,n,r){t[e++]=n;var i=e++,o=1<<n,u=o-1,s=o+1,a=s+1,c=n+1,l=0,f=0;function h(n){for(;l>=n;)t[e++]=255&f,f>>=8,l-=8,e===i+256&&(t[i]=255,i=e++)}function p(t){f|=t<<l,l+=c,h(8)}var d=r[0]&u,v={};p(o);for(var g=1,m=r.length;g<m;++g){var b=r[g]&u,y=d<<8|b,_=v[y];if(void 0===_){for(f|=d<<l,l+=c;l>=8;)t[e++]=255&f,f>>=8,l-=8,e===i+256&&(t[i]=255,i=e++);4096===a?(p(o),a=s+1,c=n+1,v={}):(a>=1<<c&&++c,v[y]=a++),d=b}else d=_}p(d),p(s),h(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0);return e}(t,i,p<2?2:p,a)},this.end=function(){return!1===s&&(t[i++]=59,s=!0),i}}var _=function(){},w=function(t){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=_,this.onRenderProgressCallback=_,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=t,this.initializeWebWorkers(t)};function x(t,e){t.getBase64GIF((function(t){e({error:!1,errorCode:"",errorMsg:"",image:t})}))}w.prototype={workerMethods:b(),initializeWebWorkers:function(t){var e,n=m.toString()+"("+b.toString()+"());",r=void 0,o=void 0,u=void 0,s=-1,a="";for(e=t.numWorkers;++s<e;)r=c.createWebWorker(n),c.isObject(r)?(o=r.objectUrl,u=r.worker,this.workers.push({worker:u,objectUrl:o}),this.availableWorkers.push(u)):(a=r,c.webWorkerError=!!r);this.workerError=a,this.canvas=i.createElement("canvas"),this.canvas.width=t.gifWidth,this.canvas.height=t.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(t){this.availableWorkers.push(t)},byteMap:function(){for(var t=[],e=0;e<256;e++)t[e]=String.fromCharCode(e);return t}(),bufferToString:function(t){for(var e=t.length,n="",r=-1;++r<e;)n+=this.byteMap[t[r]];return n},onFrameFinished:function(t){var e=this,n=e.frames,r=!!(e.options.images||[]).length,i=n.every((function(t){return!t.beingProcessed&&t.done}));e.numRenderedFrames++,r&&t(e.numRenderedFrames/n.length),e.onRenderProgressCallback(.75*e.numRenderedFrames/n.length),i?e.generatingGIF||e.generateGIF(n,e.onRenderCompleteCallback):c.requestTimeout((function(){e.processNextFrame()}),1)},processFrame:function(t){var e=this,n=(this.options,this.options),r=n.progressCallback,i=n.sampleInterval,o=this.frames,u=void 0,s=void 0,a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data;delete u.data,u.pixels=Array.prototype.slice.call(n.pixels),u.palette=Array.prototype.slice.call(n.palette),u.done=!0,u.beingProcessed=!1,e.freeWorker(s),e.onFrameFinished(r)};(u=o[t]).beingProcessed||u.done?this.onFrameFinished():(u.sampleInterval=i,u.beingProcessed=!0,u.gifshot=!0,(s=this.getWorker())?(s.onmessage=a,s.postMessage(u)):a({data:e.workerMethods.run(u)}))},startRendering:function(t){this.onRenderCompleteCallback=t;for(var e=0;e<this.options.numWorkers&&e<this.frames.length;e++)this.processFrame(e)},processNextFrame:function(){for(var t=-1,e=0;e<this.frames.length;e++){var n=this.frames[e];if(!n.done&&!n.beingProcessed){t=e;break}}t>=0&&this.processFrame(t)},generateGIF:function(t,e){var n=[],r={loop:this.repeat},i=this.options,o=i.interval,u=i.frameDuration,s=!!i.images.length,a=i.gifHeight,l=i.gifWidth,f=new y(n,l,a,r),h=this.onRenderProgressCallback,p=s?100*o:0,d=void 0;this.generatingGIF=!0,c.each(t,(function(e,n){var r=n.palette;h(.75+.25*n.position*1/t.length);for(var i=0;i<u;i++)f.addFrame(0,0,l,a,n.pixels,{palette:r,delay:p})})),f.end(),h(1),this.frames=[],this.generatingGIF=!1,c.isFunction(e)&&(d=this.bufferToString(n),e("data:image/gif;base64,"+c.btoa(d)))},setRepeat:function(t){this.repeat=t},addFrame:function(t,e){e=c.isObject(e)?e:{};var n=this.ctx,r=this.options,i=r.gifWidth,o=r.gifHeight,u=c.getFontSize(e),s=e,a=s.filter,l=s.fontColor,f=s.fontFamily,h=s.fontWeight,p=(s.gifHeight,s.gifWidth,s.text),d=s.textAlign,v=s.textBaseline,g=e.textXCoordinate?e.textXCoordinate:"left"===d?1:"right"===d?i:i/2,m=e.textYCoordinate?e.textYCoordinate:"top"===v?1:"center"===v?o/2:o,b=h+" "+u+" "+f,y=void 0;try{n.filter=a,n.drawImage(t,0,0,i,o),p&&(n.font=b,n.fillStyle=l,n.textAlign=d,n.textBaseline=v,n.fillText(p,g,m)),y=n.getImageData(0,0,i,o),this.addFrameImageData(y)}catch(t){return""+t}},addFrameImageData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.frames,n=t.data;this.frames.push({data:n,width:t.width,height:t.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:e.length})},onRenderProgress:function(t){this.onRenderProgressCallback=t},isRendering:function(){return this.generatingGIF},getBase64GIF:function(t){var e=this;e.startRendering((function(n){e.destroyWorkers(),c.requestTimeout((function(){t(n)}),0)}))},destroyWorkers:function(){if(!this.workerError){var t=this.workers;c.each(t,(function(t,e){var n=e.worker,r=e.objectUrl;n.terminate(),c.URL.revokeObjectURL(r)}))}}};var S=function(){},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=c.isFunction(e)?e:S;var n=i.createElement("canvas"),r=void 0,o=t.images,u=!!o.length,s=t.cameraStream,a=t.crop,l=t.filter,f=t.fontColor,h=t.fontFamily,p=t.fontWeight,d=t.keepCameraOn,v=(t.numWorkers,t.progressCallback),g=t.saveRenderingContexts,m=t.savedRenderingContexts,b=t.text,y=t.textAlign,_=t.textBaseline,x=t.videoElement,E=t.videoHeight,A=t.videoWidth,C=t.webcamVideoElement,O=Number(t.gifWidth),k=Number(t.gifHeight),j=Number(t.interval),P=(Number(t.sampleInterval),u?0:1e3*j),T=[],I=m.length?m.length:t.numFrames,R=I,M=new w(t),N=c.getFontSize(t),U=t.textXCoordinate?t.textXCoordinate:"left"===y?1:"right"===y?O:O/2,L=t.textYCoordinate?t.textYCoordinate:"top"===_?1:"center"===_?k/2:k,F=p+" "+N+" "+h,V=a?Math.floor(a.scaledWidth/2):0,D=a?A-a.scaledWidth:0,z=a?Math.floor(a.scaledHeight/2):0,W=a?E-a.scaledHeight:0,B=function t(){var n=R-1;function i(){var i;g&&T.push(r.getImageData(0,0,O,k)),b&&(r.font=F,r.fillStyle=f,r.textAlign=y,r.textBaseline=_,r.fillText(b,U,L)),i=r.getImageData(0,0,O,k),M.addFrameImageData(i),v((I-(R=n))/I),n>0&&c.requestTimeout(t,P),R||M.getBase64GIF((function(t){e({error:!1,errorCode:"",errorMsg:"",image:t,cameraStream:s,videoElement:x,webcamVideoElement:C,savedRenderingContexts:T,keepCameraOn:d})}))}m.length?(r.putImageData(m[I-R],0,0),i()):function t(){try{D>A&&(D=A),W>E&&(W=E),V<0&&(V=0),z<0&&(z=0),r.filter=l,r.drawImage(x,V,z,D,W,0,0,O,k),i()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e;c.requestTimeout(t,100)}}()};I=void 0!==I?I:10,j=void 0!==j?j:.1,n.width=O,n.height=k,r=n.getContext("2d"),function t(){m.length||0!==x.currentTime?B():c.requestTimeout(t,100)}()},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.videoWidth,n=t.videoHeight,r=t.gifWidth,i=t.gifHeight,o={width:0,height:0,scaledWidth:0,scaledHeight:0};return e>n?(o.width=Math.round(e*(i/n))-r,o.scaledWidth=Math.round(o.width*(n/i))):(o.height=Math.round(n*(r/e))-i,o.scaledHeight=Math.round(o.height*(e/r))),o},C={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function t(e){t.attempts=t.attempts||0;var n=e.cameraStream,r=e.completedCallback,i=e.videoElement;i&&(i.videoWidth>0&&i.videoHeight>0?(i.removeEventListener("loadeddata",C.findVideoSize),r({videoElement:i,cameraStream:n,videoWidth:i.videoWidth,videoHeight:i.videoHeight})):t.attempts<10?(t.attempts+=1,c.requestTimeout((function(){C.findVideoSize(e)}),400)):r({videoElement:i,cameraStream:n,videoWidth:C.defaultVideoDimensions.width,videoHeight:C.defaultVideoDimensions.height}))},onStreamingTimeout:function(t){c.isFunction(t)&&t({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(t){var e=c.isArray(t.existingVideo)?t.existingVideo[0]:t.existingVideo,n=t.cameraStream,r=t.completedCallback,i=t.streamedCallback,o=t.videoElement;if(c.isFunction(i)&&i(),e){if(c.isString(e))o.src=e,o.innerHTML='<source src="'+e+'" type="video/'+c.getExtension(e)+'" />';else if(e instanceof Blob){try{o.src=c.URL.createObjectURL(e)}catch(t){}o.innerHTML='<source src="'+e+'" type="'+e.type+'" />'}}else if(o.mozSrcObject)o.mozSrcObject=n;else if(c.URL)try{o.srcObject=n,o.src=c.URL.createObjectURL(n)}catch(t){o.srcObject=n}o.play(),c.requestTimeout((function t(){t.count=t.count||0,!0===C.loadedData?(C.findVideoSize({videoElement:o,cameraStream:n,completedCallback:r}),C.loadedData=!1):(t.count+=1)>10?C.findVideoSize({videoElement:o,cameraStream:n,completedCallback:r}):t()}),0)},startStreaming:function(t){var e=c.isFunction(t.error)?t.error:c.noop,n=c.isFunction(t.streamed)?t.streamed:c.noop,r=c.isFunction(t.completed)?t.completed:c.noop,o=t.crossOrigin,u=t.existingVideo,s=t.lastCameraStream,a=t.options,l=t.webcamVideoElement,f=c.isElement(u)?u:l||i.createElement("video");o&&(f.crossOrigin=a.crossOrigin),f.autoplay=!0,f.loop=!0,f.muted=!0,f.addEventListener("loadeddata",(function(t){C.loadedData=!0,a.offset&&(f.currentTime=a.offset)})),u?C.stream({videoElement:f,existingVideo:u,completedCallback:r}):s?C.stream({videoElement:f,cameraStream:s,streamedCallback:n,completedCallback:r}):c.getUserMedia({video:!0},(function(t){C.stream({videoElement:f,cameraStream:t,streamedCallback:n,completedCallback:r})}),e)},startVideoStreaming:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==e.timeout?e.timeout:0,r=e.callback,i=e.webcamVideoElement,o=void 0;n>0&&(o=c.requestTimeout((function(){C.onStreamingTimeout(r)}),1e4)),C.startStreaming({error:function(){r({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(o)},completed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.cameraStream,r=e.videoElement,i=e.videoHeight,o=e.videoWidth;t({cameraStream:n,videoElement:r,videoHeight:i,videoWidth:o})},lastCameraStream:e.lastCameraStream,webcamVideoElement:i,crossOrigin:e.crossOrigin,options:e})},stopVideoStreaming:function(t){var e=t=c.isObject(t)?t:{},n=e.keepCameraOn,r=e.videoElement,i=e.webcamVideoElement,o=t.cameraStream||{},u=o.getTracks&&o.getTracks()||[],s=!!u.length,a=u[0];!n&&s&&c.isFunction(a.stop)&&a.stop(),c.isElement(r)&&!i&&(r.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&r.src&&c.URL.revokeObjectURL(r.src),c.removeElement(r))}};function O(t){t=c.isObject(t)?t:{},C.stopVideoStreaming(t)}function k(t,e){var n=t.options||{},r=n.images,o=n.video,u=Number(n.gifWidth),s=Number(n.gifHeight),a=(Number(n.numFrames),t.cameraStream),l=t.videoElement,f=t.videoWidth,h=t.videoHeight,p=A({videoWidth:f,videoHeight:h,gifHeight:s,gifWidth:u}),d=e;n.crop=p,n.videoElement=l,n.videoWidth=f,n.videoHeight=h,n.cameraStream=a,c.isElement(l)&&(l.width=u+p.width,l.height=s+p.height,n.webcamVideoElement||(c.setCSSAttr(l,{position:"fixed",opacity:"0"}),i.body.appendChild(l)),l.play(),E(n,(function(t){r&&r.length||o&&o.length||O(t),d(t)})))}function j(t,e){if(e=c.isFunction(t)?t:e,t=c.isObject(t)?t:{},c.isFunction(e)){var n=c.mergeOptions(d,t)||{},r=t.cameraStream,o=n.images,u=o?o.length:0,s=n.video,a=n.webcamVideoElement;n=c.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),u?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,n=t.images,r=t.options,o=t.imagesLength,u={getUserMedia:!0,"window.URL":!0},s=f.validate(u),a=[],l=0,h=void 0,p=void 0;if(s.error)return e(s);function d(){c.each(a,(function(t,e){e&&(e.text?p.addFrame(e.img,r,e.text):p.addFrame(e,r))})),x(p,e)}p=new w(r),c.each(n,(function(t,n){var u=n;n.src&&(u=u.src),c.isElement(u)?(r.crossOrigin&&(u.crossOrigin=r.crossOrigin),a[t]=u,(l+=1)===o&&d()):c.isString(u)&&(h=new Image,r.crossOrigin&&(h.crossOrigin=r.crossOrigin),function(r){n.text&&(r.text=n.text),r.onerror=function(t){var n=void 0;if(0===--o)return(n={}).error="None of the requested images was capable of being retrieved",e(n)},r.onload=function(e){n.text?a[t]={img:r,text:r.text}:a[t]=r,(l+=1)===o&&d(),c.removeElement(r)},r.src=u}(h),c.setCSSAttr(h,{position:"fixed",opacity:"0"}),i.body.appendChild(h))}))}({images:o,imagesLength:u,callback:e,options:n}):s?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,n=t.existingVideo,r=t.options,i={getUserMedia:!0,"window.URL":!0},o=f.validate(i),u=void 0,s=void 0;if(o.error)return e(o);if(c.isElement(n)&&n.src){if(s=n.src,u=c.getExtension(s),!c.isSupported.videoCodecs[u])return e(f.messages.videoCodecs)}else c.isArray(n)&&c.each(n,(function(t,e){if(u=e instanceof Blob?e.type.substr(e.type.lastIndexOf("/")+1,e.length):e.substr(e.lastIndexOf(".")+1,e.length),c.isSupported.videoCodecs[u])return n=e,!1}));C.startStreaming({completed:function(t){t.options=r||{},k(t,e)},existingVideo:n,crossOrigin:r.crossOrigin,options:r})}({existingVideo:s,callback:e,options:n}):function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,n=t.lastCameraStream,r=t.options,i=t.webcamVideoElement;if(!g())return e(f.validate());r.savedRenderingContexts.length?E(r,(function(t){e(t)})):C.startVideoStreaming((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.options=r||{},k(t,e)}),{lastCameraStream:n,callback:e,webcamVideoElement:i,crossOrigin:r.crossOrigin})}({lastCameraStream:r,callback:e,webcamVideoElement:a,options:n})}}var P={utils:l,error:h,defaultOptions:v,createGIF:j,takeSnapShot:function(t,e){if(e=c.isFunction(t)?t:e,t=c.isObject(t)?t:{},c.isFunction(e)){var n=c.mergeOptions(d,t);j(c.mergeOptions(n,{interval:.1,numFrames:1,gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),e)}},stopVideoStreaming:O,isSupported:function(){return f.isValid()},isWebCamGIFSupported:g,isExistingVideoGIFSupported:function(t){var e=!1;if(c.isArray(t)&&t.length){if(c.each(t,(function(t,n){c.isSupported.videoCodecs[n]&&(e=!0)})),!e)return!1}else if(c.isString(t)&&t.length&&!c.isSupported.videoCodecs[t])return!1;return f.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return f.isValid({getUserMedia:!0})},VERSION:"0.4.5"};void 0===(r=function(){return P}.apply(e,[]))||(t.exports=r)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(t,e,n){var r,i=i||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=/constructor/i.test(t.HTMLElement)||t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},a=function(t){setTimeout((function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}),4e4)},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(e,l,f){f||(e=c(e));var h,p=this,d="application/octet-stream"===e.type,v=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){s(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return h=n().createObjectURL(e),void setTimeout((function(){var t,e;r.href=h,r.download=l,t=r,e=new MouseEvent("click"),t.dispatchEvent(e),v(),a(h),p.readyState=p.DONE}));!function(){if((u||d&&o)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=u?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,v()},r.readAsDataURL(e),void(p.readyState=p.INIT)}(h||(h=n().createObjectURL(e)),d)?t.location.href=h:t.open(h,"_blank")||(t.location.href=h);p.readyState=p.DONE,v(),a(h)}()},f=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(t,e,n){return new l(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */t.exports?t.exports.saveAs=i:null!==n(16)&&null!==n(17)&&(void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),u=n(23),s=n(24);e.take=function(t){return function(e){return 0===t?s.empty():e.lift(new a(t))}};var a=function(){function t(t){if(this.total=t,this.total<0)throw new u.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),i=n(21),o=n(3),u=n(22),s=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,s=this._parents,c=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,h=s?s.length:0;n;)n.remove(this),n=++f<h&&s[f]||null;if(o.isFunction(c))try{c.call(this)}catch(n){e=!0,t=n instanceof u.UnsubscriptionError?a(n.errors):[n]}if(r.isArray(l))for(f=-1,h=l.length;++f<h;){var p=l[f];if(i.isObject(p))try{p.unsubscribe()}catch(n){e=!0,t=t||[],n instanceof u.UnsubscriptionError?t=t.concat(a(n.errors)):t.push(n)}}if(e)throw new u.UnsubscriptionError(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}();function a(t){return t.reduce((function(t,e){return t.concat(e instanceof u.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(t){return null!==t&&"object"==typeof t}},function(t,e,n){"use strict";function r(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype),e.UnsubscriptionError=r},function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype),e.ArgumentOutOfRangeError=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25);function i(t){return new r.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}e.EMPTY=new r.Observable((function(t){return t.complete()})),e.empty=function(t){return t?i(t):e.EMPTY},e.emptyScheduled=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=n(27),o=n(28),u=n(29),s=n(1),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||s.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),r.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:u.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=s.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.canReportError=function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.Subscriber?i:null}return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(6),o=n(4);e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(){}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",u="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",v="[object Map]",g="[object Number]",m="[object Object]",b="[object RegExp]",y="[object Set]",_="[object String]",w="[object Symbol]",x="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",O="[object Int8Array]",k="[object Int16Array]",j="[object Int32Array]",P="[object Uint8Array]",T="[object Uint16Array]",I="[object Uint32Array]",R=/\b__p \+= '';/g,M=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,F=RegExp(U.source),V=RegExp(L.source),D=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,W=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,G=RegExp(Y.source),$=/^\s+|\s+$/g,X=/^\s+/,Z=/\s+$/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,ut=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",vt="["+pt+"]",gt="["+ht+"]",mt="\\d+",bt="[\\u2700-\\u27bf]",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+pt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",At="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ct="(?:"+yt+"|"+_t+")",Ot="(?:"+At+"|"+_t+")",kt="(?:"+gt+"|"+wt+")"+"?",jt="[\\ufe0e\\ufe0f]?"+kt+("(?:\\u200d(?:"+[xt,St,Et].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*"),Pt="(?:"+[bt,St,Et].join("|")+")"+jt,Tt="(?:"+[xt+gt+"?",gt,St,Et,dt].join("|")+")",It=RegExp("['’]","g"),Rt=RegExp(gt,"g"),Mt=RegExp(wt+"(?="+wt+")|"+Tt+jt,"g"),Nt=RegExp([At+"?"+yt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,At,"$"].join("|")+")",Ot+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,At+Ct,"$"].join("|")+")",At+"?"+Ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?",At+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Pt].join("|"),"g"),Ut=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Lt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,Dt={};Dt[A]=Dt[C]=Dt[O]=Dt[k]=Dt[j]=Dt[P]=Dt["[object Uint8ClampedArray]"]=Dt[T]=Dt[I]=!0,Dt[a]=Dt[c]=Dt[S]=Dt[l]=Dt[E]=Dt[f]=Dt[h]=Dt[p]=Dt[v]=Dt[g]=Dt[m]=Dt[b]=Dt[y]=Dt[_]=Dt[x]=!1;var zt={};zt[a]=zt[c]=zt[S]=zt[E]=zt[l]=zt[f]=zt[A]=zt[C]=zt[O]=zt[k]=zt[j]=zt[v]=zt[g]=zt[m]=zt[b]=zt[y]=zt[_]=zt[w]=zt[P]=zt["[object Uint8ClampedArray]"]=zt[T]=zt[I]=!0,zt[h]=zt[p]=zt[x]=!1;var Wt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ht=parseInt,qt="object"==typeof t&&t&&t.Object===Object&&t,Yt="object"==typeof self&&self&&self.Object===Object&&self,Gt=qt||Yt||Function("return this")(),$t=e&&!e.nodeType&&e,Xt=$t&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=Xt&&Xt.exports===$t,Kt=Zt&&qt.process,Jt=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Kt&&Kt.binding&&Kt.binding("util")}catch(t){}}(),Qt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ue(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];e(r,u,n(u),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}function fe(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ve(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ge(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var be=Ae("length");function ye(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function _e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function we(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):_e(t,Se,n)}function xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Se(t){return t!=t}function Ee(t,e){var n=null==t?0:t.length;return n?ke(t,e)/n:NaN}function Ae(t){return function(e){return null==e?void 0:e[t]}}function Ce(t){return function(e){return null==t?void 0:t[e]}}function Oe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function ke(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function je(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Pe(t){return function(e){return t(e)}}function Te(t,e){return pe(e,(function(e){return t[e]}))}function Ie(t,e){return t.has(e)}function Re(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function Me(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ue=Ce({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Le=Ce({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+Wt[t]}function Ve(t){return Ut.test(t)}function De(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ze(t,e){return function(n){return t(e(n))}}function We(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==u||(t[n]=u,o[i++]=n)}return o}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function qe(t){return Ve(t)?function(t){var e=Mt.lastIndex=0;for(;Mt.test(t);)++e;return e}(t):be(t)}function Ye(t){return Ve(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.split("")}(t)}var Ge=Ce({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $e=function t(e){var n,r=(e=null==e?Gt:$e.defaults(Gt.Object(),e,$e.pick(Gt,Ft))).Array,i=e.Date,ht=e.Error,pt=e.Function,dt=e.Math,vt=e.Object,gt=e.RegExp,mt=e.String,bt=e.TypeError,yt=r.prototype,_t=pt.prototype,wt=vt.prototype,xt=e["__core-js_shared__"],St=_t.toString,Et=wt.hasOwnProperty,At=0,Ct=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ot=wt.toString,kt=St.call(vt),jt=Gt._,Pt=gt("^"+St.call(Et).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=Zt?e.Buffer:void 0,Mt=e.Symbol,Ut=e.Uint8Array,Wt=Tt?Tt.allocUnsafe:void 0,qt=ze(vt.getPrototypeOf,vt),Yt=vt.create,$t=wt.propertyIsEnumerable,Xt=yt.splice,Kt=Mt?Mt.isConcatSpreadable:void 0,Jt=Mt?Mt.iterator:void 0,be=Mt?Mt.toStringTag:void 0,Ce=function(){try{var t=Qi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Xe=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ze=i&&i.now!==Gt.Date.now&&i.now,Ke=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Je=dt.ceil,Qe=dt.floor,tn=vt.getOwnPropertySymbols,en=Tt?Tt.isBuffer:void 0,nn=e.isFinite,rn=yt.join,on=ze(vt.keys,vt),un=dt.max,sn=dt.min,an=i.now,cn=e.parseInt,ln=dt.random,fn=yt.reverse,hn=Qi(e,"DataView"),pn=Qi(e,"Map"),dn=Qi(e,"Promise"),vn=Qi(e,"Set"),gn=Qi(e,"WeakMap"),mn=Qi(vt,"create"),bn=gn&&new gn,yn={},_n=Oo(hn),wn=Oo(pn),xn=Oo(dn),Sn=Oo(vn),En=Oo(gn),An=Mt?Mt.prototype:void 0,Cn=An?An.valueOf:void 0,On=An?An.toString:void 0;function kn(t){if(Hu(t)&&!Ru(t)&&!(t instanceof In)){if(t instanceof Tn)return t;if(Et.call(t,"__wrapped__"))return ko(t)}return new Tn(t)}var jn=function(){function t(){}return function(e){if(!Bu(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Pn(){}function Tn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function In(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Un(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Nn;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new Mn(t);this.size=e.size}function Fn(t,e){var n=Ru(t),r=!n&&Iu(t),i=!n&&!r&&Lu(t),o=!n&&!r&&!i&&Ju(t),u=n||r||i||o,s=u?je(t.length,mt):[],a=s.length;for(var c in t)!e&&!Et.call(t,c)||u&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||uo(c,a))||s.push(c);return s}function Vn(t){var e=t.length;return e?t[Ur(0,e-1)]:void 0}function Dn(t,e){return Eo(mi(t),Xn(e,0,t.length))}function zn(t){return Eo(mi(t))}function Wn(t,e,n){(void 0===n||ju(t[e],n))&&(void 0!==n||e in t)||Gn(t,e,n)}function Bn(t,e,n){var r=t[e];Et.call(t,e)&&ju(r,n)&&(void 0!==n||e in t)||Gn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(ju(t[n][0],e))return n;return-1}function qn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Yn(t,e){return t&&bi(e,_s(e),t)}function Gn(t,e,n){"__proto__"==e&&Ce?Ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $n(t,e){for(var n=-1,i=e.length,o=r(i),u=null==t;++n<i;)o[n]=u?void 0:vs(t,e[n]);return o}function Xn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,r,i,o){var u,s=1&e,c=2&e,h=4&e;if(n&&(u=i?n(t,r,i,o):n(t)),void 0!==u)return u;if(!Bu(t))return t;var x=Ru(t);if(x){if(u=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return mi(t,u)}else{var R=no(t),M=R==p||R==d;if(Lu(t))return fi(t,s);if(R==m||R==a||M&&!i){if(u=c||M?{}:io(t),!s)return c?function(t,e){return bi(t,eo(t),e)}(t,function(t,e){return t&&bi(e,ws(e),t)}(u,t)):function(t,e){return bi(t,to(t),e)}(t,Yn(u,t))}else{if(!zt[R])return i?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case S:return hi(t);case l:case f:return new r(+t);case E:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case A:case C:case O:case k:case j:case P:case"[object Uint8ClampedArray]":case T:case I:return pi(t,n);case v:return new r;case g:case _:return new r(t);case b:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case w:return i=t,Cn?vt(Cn.call(i)):{}}var i}(t,R,s)}}o||(o=new Ln);var N=o.get(t);if(N)return N;o.set(t,u),Xu(t)?t.forEach((function(r){u.add(Zn(r,e,n,r,t,o))})):qu(t)&&t.forEach((function(r,i){u.set(i,Zn(r,e,n,i,t,o))}));var U=x?void 0:(h?c?Yi:qi:c?ws:_s)(t);return se(U||t,(function(r,i){U&&(r=t[i=r]),Bn(u,i,Zn(r,e,n,i,t,o))})),u}function Kn(t,e,n){var r=n.length;if(null==t)return!r;for(t=vt(t);r--;){var i=n[r],o=e[i],u=t[i];if(void 0===u&&!(i in t)||!o(u))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new bt(o);return _o((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=fe,u=!0,s=t.length,a=[],c=e.length;if(!s)return a;n&&(e=pe(e,Pe(n))),r?(o=he,u=!1):e.length>=200&&(o=Ie,u=!1,e=new Un(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,u&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;a.push(l)}else o(e,f,r)||a.push(l)}return a}kn.templateSettings={escape:D,evaluate:z,interpolate:W,variable:"",imports:{_:kn}},kn.prototype=Pn.prototype,kn.prototype.constructor=kn,Tn.prototype=jn(Pn.prototype),Tn.prototype.constructor=Tn,In.prototype=jn(Pn.prototype),In.prototype.constructor=In,Rn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Rn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Rn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Et.call(e,t)?e[t]:void 0},Rn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Et.call(e,t)},Rn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Xt.call(e,n,1),--this.size,!0)},Mn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Mn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Mn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(pn||Mn),string:new Rn}},Nn.prototype.delete=function(t){var e=Ki(this,t).delete(t);return this.size-=e?1:0,e},Nn.prototype.get=function(t){return Ki(this,t).get(t)},Nn.prototype.has=function(t){return Ki(this,t).has(t)},Nn.prototype.set=function(t,e){var n=Ki(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Un.prototype.add=Un.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Un.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new Mn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(t,e),this.size=n.size,this};var tr=wi(ar),er=wi(cr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=e(o);if(null!=u&&(void 0===s?u==u&&!Ku(u):n(u,s)))var s=u,a=o}return a}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,u=t.length;for(n||(n=oo),i||(i=[]);++o<u;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):de(i,s):r||(i[i.length]=s)}return i}var ur=xi(),sr=xi(!0);function ar(t,e){return t&&ur(t,e,_s)}function cr(t,e){return t&&sr(t,e,_s)}function lr(t,e){return le(e,(function(e){return Du(t[e])}))}function fr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[Co(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Ru(t)?r:de(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":be&&be in vt(t)?function(t){var e=Et.call(t,be),n=t[be];try{t[be]=void 0;var r=!0}catch(t){}var i=Ot.call(t);r&&(e?t[be]=n:delete t[be]);return i}(t):function(t){return Ot.call(t)}(t)}function dr(t,e){return t>e}function vr(t,e){return null!=t&&Et.call(t,e)}function gr(t,e){return null!=t&&e in vt(t)}function mr(t,e,n){for(var i=n?he:fe,o=t[0].length,u=t.length,s=u,a=r(u),c=1/0,l=[];s--;){var f=t[s];s&&e&&(f=pe(f,Pe(e))),c=sn(f.length,c),a[s]=!n&&(e||o>=120&&f.length>=120)?new Un(s&&f):void 0}f=t[0];var h=-1,p=a[0];t:for(;++h<o&&l.length<c;){var d=f[h],v=e?e(d):d;if(d=n||0!==d?d:0,!(p?Ie(p,v):i(l,v,n))){for(s=u;--s;){var g=a[s];if(!(g?Ie(g,v):i(t[s],v,n)))continue t}p&&p.push(v),l.push(d)}}return l}function br(t,e,n){var r=null==(t=go(t,e=si(e,t)))?t:t[Co(Vo(e))];return null==r?void 0:oe(r,t,n)}function yr(t){return Hu(t)&&pr(t)==a}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!Hu(t)&&!Hu(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var u=Ru(t),s=Ru(e),p=u?c:no(t),d=s?c:no(e),x=(p=p==a?m:p)==m,A=(d=d==a?m:d)==m,C=p==d;if(C&&Lu(t)){if(!Lu(e))return!1;u=!0,x=!1}if(C&&!x)return o||(o=new Ln),u||Ju(t)?Bi(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!o(new Ut(t),new Ut(e)));case l:case f:case g:return ju(+t,+e);case h:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+"";case v:var s=De;case y:var a=1&r;if(s||(s=Be),t.size!=e.size&&!a)return!1;var c=u.get(t);if(c)return c==e;r|=2,u.set(t,e);var p=Bi(s(t),s(e),r,i,o,u);return u.delete(t),p;case w:if(Cn)return Cn.call(t)==Cn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var O=x&&Et.call(t,"__wrapped__"),k=A&&Et.call(e,"__wrapped__");if(O||k){var j=O?t.value():t,P=k?e.value():e;return o||(o=new Ln),i(j,P,n,r,o)}}if(!C)return!1;return o||(o=new Ln),function(t,e,n,r,i,o){var u=1&n,s=qi(t),a=s.length,c=qi(e).length;if(a!=c&&!u)return!1;var l=a;for(;l--;){var f=s[l];if(!(u?f in e:Et.call(e,f)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);var d=u;for(;++l<a;){f=s[l];var v=t[f],g=e[f];if(r)var m=u?r(g,v,f,e,t,o):r(v,g,f,t,e,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var b=t.constructor,y=e.constructor;b!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,_r,i))}function wr(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=vt(t);i--;){var s=n[i];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var a=(s=n[i])[0],c=t[a],l=s[1];if(u&&s[2]){if(void 0===c&&!(a in t))return!1}else{var f=new Ln;if(r)var h=r(c,l,a,t,e,f);if(!(void 0===h?_r(l,c,3,r,f):h))return!1}}return!0}function xr(t){return!(!Bu(t)||(e=t,Ct&&Ct in e))&&(Du(t)?Pt:ut).test(Oo(t));var e}function Sr(t){return"function"==typeof t?t:null==t?Ys:"object"==typeof t?Ru(t)?jr(t[0],t[1]):kr(t):ea(t)}function Er(t){if(!fo(t))return on(t);var e=[];for(var n in vt(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ar(t){if(!Bu(t))return function(t){var e=[];if(null!=t)for(var n in vt(t))e.push(n);return e}(t);var e=fo(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}function Cr(t,e){return t<e}function Or(t,e){var n=-1,i=Nu(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function kr(t){var e=Ji(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function jr(t,e){return ao(t)&&ho(e)?po(Co(t),e):function(n){var r=vs(n,t);return void 0===r&&r===e?gs(n,t):_r(e,r,3)}}function Pr(t,e,n,r,i){t!==e&&ur(e,(function(o,u){if(i||(i=new Ln),Bu(o))!function(t,e,n,r,i,o,u){var s=bo(t,n),a=bo(e,n),c=u.get(a);if(c)return void Wn(t,n,c);var l=o?o(s,a,n+"",t,e,u):void 0,f=void 0===l;if(f){var h=Ru(a),p=!h&&Lu(a),d=!h&&!p&&Ju(a);l=a,h||p||d?Ru(s)?l=s:Uu(s)?l=mi(s):p?(f=!1,l=fi(a,!0)):d?(f=!1,l=pi(a,!0)):l=[]:Gu(a)||Iu(a)?(l=s,Iu(s)?l=us(s):Bu(s)&&!Du(s)||(l=io(a))):f=!1}f&&(u.set(a,l),i(l,a,r,o,u),u.delete(a));Wn(t,n,l)}(t,e,u,n,Pr,r,i);else{var s=r?r(bo(t,u),o,u+"",t,e,i):void 0;void 0===s&&(s=o),Wn(t,u,s)}}),ws)}function Tr(t,e){var n=t.length;if(n)return uo(e+=e<0?n:0,n)?t[e]:void 0}function Ir(t,e,n){var r=-1;return e=pe(e.length?e:[Ys],Pe(Zi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Or(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,u=i.length,s=n.length;for(;++r<u;){var a=di(i[r],o[r]);if(a){if(r>=s)return a;var c=n[r];return a*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Rr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],s=fr(t,u);n(s,u)&&zr(o,si(u,t),s)}return o}function Mr(t,e,n,r){var i=r?xe:we,o=-1,u=e.length,s=t;for(t===e&&(e=mi(e)),n&&(s=pe(t,Pe(n)));++o<u;)for(var a=0,c=e[o],l=n?n(c):c;(a=i(s,l,a,r))>-1;)s!==t&&Xt.call(s,a,1),Xt.call(t,a,1);return t}function Nr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;uo(i)?Xt.call(t,i,1):Qr(t,i)}}return t}function Ur(t,e){return t+Qe(ln()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Fr(t,e){return wo(vo(t,e,Ys),t+"")}function Vr(t){return Vn(js(t))}function Dr(t,e){var n=js(t);return Eo(n,Xn(e,0,n.length))}function zr(t,e,n,r){if(!Bu(t))return t;for(var i=-1,o=(e=si(e,t)).length,u=o-1,s=t;null!=s&&++i<o;){var a=Co(e[i]),c=n;if(i!=u){var l=s[a];void 0===(c=r?r(l,a,s):void 0)&&(c=Bu(l)?l:uo(e[i+1])?[]:{})}Bn(s,a,c),s=s[a]}return t}var Wr=bn?function(t,e){return bn.set(t,e),t}:Ys,Br=Ce?function(t,e){return Ce(t,"toString",{configurable:!0,enumerable:!1,value:Bs(e),writable:!0})}:Ys;function Hr(t){return Eo(js(t))}function qr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var u=r(o);++i<o;)u[i]=t[i+e];return u}function Yr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Gr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!Ku(u)&&(n?u<=e:u<e)?r=o+1:i=o}return i}return $r(t,e,Ys,n)}function $r(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,u=e!=e,s=null===e,a=Ku(e),c=void 0===e;i<o;){var l=Qe((i+o)/2),f=n(t[l]),h=void 0!==f,p=null===f,d=f==f,v=Ku(f);if(u)var g=r||d;else g=c?d&&(r||h):s?d&&h&&(r||!p):a?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=e:f<e);g?i=l+1:o=l}return sn(o,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n],s=e?e(u):u;if(!n||!ju(s,a)){var a=s;o[i++]=0===u?0:u}}return o}function Zr(t){return"number"==typeof t?t:Ku(t)?NaN:+t}function Kr(t){if("string"==typeof t)return t;if(Ru(t))return pe(t,Kr)+"";if(Ku(t))return On?On.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,i=fe,o=t.length,u=!0,s=[],a=s;if(n)u=!1,i=he;else if(o>=200){var c=e?null:Li(t);if(c)return Be(c);u=!1,i=Ie,a=new Un}else a=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,u&&f==f){for(var h=a.length;h--;)if(a[h]===f)continue t;e&&a.push(f),s.push(l)}else i(a,f,n)||(a!==s&&a.push(f),s.push(l))}return s}function Qr(t,e){return null==(t=go(t,e=si(e,t)))||delete t[Co(Vo(e))]}function ti(t,e,n,r){return zr(t,e,n(fr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?qr(t,r?0:o,r?o+1:i):qr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof In&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Jr(t[0]):[];for(var o=-1,u=r(i);++o<i;)for(var s=t[o],a=-1;++a<i;)a!=o&&(u[o]=Qn(u[o]||s,t[a],e,n));return Jr(or(u,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,u={};++r<i;){var s=r<o?e[r]:void 0;n(u,t[r],s)}return u}function oi(t){return Uu(t)?t:[]}function ui(t){return"function"==typeof t?t:Ys}function si(t,e){return Ru(t)?t:ao(t,e)?[t]:Ao(ss(t))}var ai=Fr;function ci(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:qr(t,e,n)}var li=Xe||function(t){return Gt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ku(t),u=void 0!==e,s=null===e,a=e==e,c=Ku(e);if(!s&&!c&&!o&&t>e||o&&u&&a&&!s&&!c||r&&u&&a||!n&&a||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!u&&i||!a)return-1}return 0}function vi(t,e,n,i){for(var o=-1,u=t.length,s=n.length,a=-1,c=e.length,l=un(u-s,0),f=r(c+l),h=!i;++a<c;)f[a]=e[a];for(;++o<s;)(h||o<u)&&(f[n[o]]=t[o]);for(;l--;)f[a++]=t[o++];return f}function gi(t,e,n,i){for(var o=-1,u=t.length,s=-1,a=n.length,c=-1,l=e.length,f=un(u-a,0),h=r(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++s<a;)(p||o<u)&&(h[d+n[s]]=t[o++]);return h}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function bi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var s=e[o],a=r?r(n[s],t[s],s,n,t):void 0;void 0===a&&(a=t[s]),i?Gn(n,s,a):Bn(n,s,a)}return n}function yi(t,e){return function(n,r){var i=Ru(n)?ue:qn,o=e?e():{};return i(n,t,Zi(r,2),o)}}function _i(t){return Fr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,u&&so(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),e=vt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function wi(t,e){return function(n,r){if(null==n)return n;if(!Nu(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=vt(n);(e?o--:++o<i)&&!1!==r(u[o],o,u););return n}}function xi(t){return function(e,n,r){for(var i=-1,o=vt(e),u=r(e),s=u.length;s--;){var a=u[t?s:++i];if(!1===n(o[a],a,o))break}return e}}function Si(t){return function(e){var n=Ve(e=ss(e))?Ye(e):void 0,r=n?n[0]:e.charAt(0),i=n?ci(n,1).join(""):e.slice(1);return r[t]()+i}}function Ei(t){return function(e){return ve(Ds(Is(e).replace(It,"")),t,"")}}function Ai(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=jn(t.prototype),r=t.apply(n,e);return Bu(r)?r:n}}function Ci(t){return function(e,n,r){var i=vt(e);if(!Nu(e)){var o=Zi(n,3);e=_s(e),n=function(t){return o(i[t],t,i)}}var u=t(e,n,r);return u>-1?i[o?e[u]:u]:void 0}}function Oi(t){return Hi((function(e){var n=e.length,r=n,i=Tn.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new bt(o);if(i&&!s&&"wrapper"==$i(u))var s=new Tn([],!0)}for(r=s?r:n;++r<n;){var a=$i(u=e[r]),c="wrapper"==a?Gi(u):void 0;s=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[$i(c[0])].apply(s,c[3]):1==u.length&&co(u)?s[a]():s.thru(u)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ru(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function ki(t,e,n,i,o,u,s,a,c,l){var f=128&e,h=1&e,p=2&e,d=24&e,v=512&e,g=p?void 0:Ai(t);return function m(){for(var b=arguments.length,y=r(b),_=b;_--;)y[_]=arguments[_];if(d)var w=Xi(m),x=Ne(y,w);if(i&&(y=vi(y,i,o,d)),u&&(y=gi(y,u,s,d)),b-=x,d&&b<l){var S=We(y,w);return Ni(t,e,ki,m.placeholder,n,y,S,a,c,l-b)}var E=h?n:this,A=p?E[t]:t;return b=y.length,a?y=mo(y,a):v&&b>1&&y.reverse(),f&&c<b&&(y.length=c),this&&this!==Gt&&this instanceof m&&(A=g||Ai(A)),A.apply(E,y)}}function ji(t,e){return function(n,r){return function(t,e,n,r){return ar(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Pi(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Kr(n),r=Kr(r)):(n=Zr(n),r=Zr(r)),i=t(n,r)}return i}}function Ti(t){return Hi((function(e){return e=pe(e,Pe(Zi())),Fr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ii(t,e){var n=(e=void 0===e?" ":Kr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,Je(t/qe(e)));return Ve(e)?ci(Ye(r),0,t).join(""):r.slice(0,t)}function Ri(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,u=un(Je((e-t)/(n||1)),0),s=r(u);u--;)s[i?u:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function Mi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Ni(t,e,n,r,i,o,u,s,a,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,i,l?o:void 0,l?u:void 0,l?void 0:o,l?void 0:u,s,a,c],h=n.apply(void 0,f);return co(t)&&yo(h,f),h.placeholder=r,xo(h,t,e)}function Ui(t){var e=dt[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=vn&&1/Be(new vn([,-0]))[1]==1/0?function(t){return new vn(t)}:Ks;function Fi(t){return function(e){var n=no(e);return n==v?De(e):n==y?He(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Vi(t,e,n,i,s,a,c,l){var f=2&e;if(!f&&"function"!=typeof t)throw new bt(o);var h=i?i.length:0;if(h||(e&=-97,i=s=void 0),c=void 0===c?c:un(rs(c),0),l=void 0===l?l:rs(l),h-=s?s.length:0,64&e){var p=i,d=s;i=s=void 0}var v=f?void 0:Gi(t),g=[t,e,n,i,s,p,d,a,c,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var a=e[3];if(a){var c=t[3];t[3]=c?vi(c,a,e[4]):a,t[4]=c?We(t[3],u):e[4]}(a=e[5])&&(c=t[5],t[5]=c?gi(c,a,e[6]):a,t[6]=c?We(t[5],u):e[6]);(a=e[7])&&(t[7]=a);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(g,v),t=g[0],e=g[1],n=g[2],i=g[3],s=g[4],!(l=g[9]=void 0===g[9]?f?0:t.length:un(g[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Ai(t);return function o(){for(var u=arguments.length,s=r(u),a=u,c=Xi(o);a--;)s[a]=arguments[a];var l=u<3&&s[0]!==c&&s[u-1]!==c?[]:We(s,c);if((u-=l.length)<n)return Ni(t,e,ki,o.placeholder,void 0,s,l,void 0,void 0,n-u);var f=this&&this!==Gt&&this instanceof o?i:t;return oe(f,this,s)}}(t,e,l):32!=e&&33!=e||s.length?ki.apply(void 0,g):function(t,e,n,i){var o=1&e,u=Ai(t);return function e(){for(var s=-1,a=arguments.length,c=-1,l=i.length,f=r(l+a),h=this&&this!==Gt&&this instanceof e?u:t;++c<l;)f[c]=i[c];for(;a--;)f[c++]=arguments[++s];return oe(h,o?n:this,f)}}(t,e,n,i);else var m=function(t,e,n){var r=1&e,i=Ai(t);return function e(){var o=this&&this!==Gt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return xo((v?Wr:yo)(m,g),t,e)}function Di(t,e,n,r){return void 0===t||ju(t,wt[n])&&!Et.call(r,n)?e:t}function zi(t,e,n,r,i,o){return Bu(t)&&Bu(e)&&(o.set(e,t),Pr(t,e,void 0,zi,o),o.delete(e)),t}function Wi(t){return Gu(t)?void 0:t}function Bi(t,e,n,r,i,o){var u=1&n,s=t.length,a=e.length;if(s!=a&&!(u&&a>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=2&n?new Un:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],d=e[l];if(r)var v=u?r(d,p,l,e,t,o):r(p,d,l,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!me(e,(function(t,e){if(!Ie(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){f=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Hi(t){return wo(vo(t,void 0,Mo),t+"")}function qi(t){return hr(t,_s,to)}function Yi(t){return hr(t,ws,eo)}var Gi=bn?function(t){return bn.get(t)}:Ks;function $i(t){for(var e=t.name+"",n=yn[e],r=Et.call(yn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Xi(t){return(Et.call(kn,"placeholder")?kn:t).placeholder}function Zi(){var t=kn.iteratee||Gs;return t=t===Gs?Sr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ki(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ji(t){for(var e=_s(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=vt(t),le(tn(t),(function(e){return $t.call(t,e)})))}:ia,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=qt(t);return e}:ia,no=pr;function ro(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var u=Co(e[r]);if(!(o=null!=t&&n(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Wu(i)&&uo(u,i)&&(Ru(t)||Iu(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:jn(qt(t))}function oo(t){return Ru(t)||Iu(t)||!!(Kt&&t&&t[Kt])}function uo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Bu(n))return!1;var r=typeof e;return!!("number"==r?Nu(n)&&uo(e,n.length):"string"==r&&e in n)&&ju(n[e],t)}function ao(t,e){if(Ru(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ku(t))||(H.test(t)||!B.test(t)||null!=e&&t in vt(e))}function co(t){var e=$i(t),n=kn[e];if("function"!=typeof n||!(e in In.prototype))return!1;if(t===n)return!0;var r=Gi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=E||pn&&no(new pn)!=v||dn&&"[object Promise]"!=no(dn.resolve())||vn&&no(new vn)!=y||gn&&no(new gn)!=x)&&(no=function(t){var e=pr(t),n=e==m?t.constructor:void 0,r=n?Oo(n):"";if(r)switch(r){case _n:return E;case wn:return v;case xn:return"[object Promise]";case Sn:return y;case En:return x}return e});var lo=xt?Du:oa;function fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function ho(t){return t==t&&!Bu(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in vt(n)))}}function vo(t,e,n){return e=un(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,u=un(i.length-e,0),s=r(u);++o<u;)s[o]=i[e+o];o=-1;for(var a=r(e+1);++o<e;)a[o]=i[o];return a[e]=n(s),oe(t,this,a)}}function go(t,e){return e.length<2?t:fr(t,qr(e,0,-1))}function mo(t,e){for(var n=t.length,r=sn(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=uo(o,n)?i[o]:void 0}return t}function bo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yo=So(Wr),_o=Ke||function(t,e){return Gt.setTimeout(t,e)},wo=So(Br);function xo(t,e,n){var r=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(K,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!fe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(Q):[]}(r),n)))}function So(t){var e=0,n=0;return function(){var r=an(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Eo(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Ur(n,i),u=t[o];t[o]=t[n],t[n]=u}return t.length=e,t}var Ao=function(t){var e=Su(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Co(t){if("string"==typeof t||Ku(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Oo(t){if(null!=t){try{return St.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ko(t){if(t instanceof In)return t.clone();var e=new Tn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var jo=Fr((function(t,e){return Uu(t)?Qn(t,or(e,1,Uu,!0)):[]})),Po=Fr((function(t,e){var n=Vo(e);return Uu(n)&&(n=void 0),Uu(t)?Qn(t,or(e,1,Uu,!0),Zi(n,2)):[]})),To=Fr((function(t,e){var n=Vo(e);return Uu(n)&&(n=void 0),Uu(t)?Qn(t,or(e,1,Uu,!0),void 0,n):[]}));function Io(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=un(r+i,0)),_e(t,Zi(e,3),i)}function Ro(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?un(r+i,0):sn(i,r-1)),_e(t,Zi(e,3),i,!0)}function Mo(t){return(null==t?0:t.length)?or(t,1):[]}function No(t){return t&&t.length?t[0]:void 0}var Uo=Fr((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?mr(e):[]})),Lo=Fr((function(t){var e=Vo(t),n=pe(t,oi);return e===Vo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Zi(e,2)):[]})),Fo=Fr((function(t){var e=Vo(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Vo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Do=Fr(zo);function zo(t,e){return t&&t.length&&e&&e.length?Mr(t,e):t}var Wo=Hi((function(t,e){var n=null==t?0:t.length,r=$n(t,e);return Nr(t,pe(e,(function(t){return uo(t,n)?+t:t})).sort(di)),r}));function Bo(t){return null==t?t:fn.call(t)}var Ho=Fr((function(t){return Jr(or(t,1,Uu,!0))})),qo=Fr((function(t){var e=Vo(t);return Uu(e)&&(e=void 0),Jr(or(t,1,Uu,!0),Zi(e,2))})),Yo=Fr((function(t){var e=Vo(t);return e="function"==typeof e?e:void 0,Jr(or(t,1,Uu,!0),void 0,e)}));function Go(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Uu(t))return e=un(t.length,e),!0})),je(e,(function(e){return pe(t,Ae(e))}))}function $o(t,e){if(!t||!t.length)return[];var n=Go(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Xo=Fr((function(t,e){return Uu(t)?Qn(t,e):[]})),Zo=Fr((function(t){return ri(le(t,Uu))})),Ko=Fr((function(t){var e=Vo(t);return Uu(e)&&(e=void 0),ri(le(t,Uu),Zi(e,2))})),Jo=Fr((function(t){var e=Vo(t);return e="function"==typeof e?e:void 0,ri(le(t,Uu),void 0,e)})),Qo=Fr(Go);var tu=Fr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,$o(t,n)}));function eu(t){var e=kn(t);return e.__chain__=!0,e}function nu(t,e){return e(t)}var ru=Hi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return $n(e,t)};return!(e>1||this.__actions__.length)&&r instanceof In&&uo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:nu,args:[i],thisArg:void 0}),new Tn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var iu=yi((function(t,e,n){Et.call(t,n)?++t[n]:Gn(t,n,1)}));var ou=Ci(Io),uu=Ci(Ro);function su(t,e){return(Ru(t)?se:tr)(t,Zi(e,3))}function au(t,e){return(Ru(t)?ae:er)(t,Zi(e,3))}var cu=yi((function(t,e,n){Et.call(t,n)?t[n].push(e):Gn(t,n,[e])}));var lu=Fr((function(t,e,n){var i=-1,o="function"==typeof e,u=Nu(t)?r(t.length):[];return tr(t,(function(t){u[++i]=o?oe(e,t,n):br(t,e,n)})),u})),fu=yi((function(t,e,n){Gn(t,n,e)}));function hu(t,e){return(Ru(t)?pe:Or)(t,Zi(e,3))}var pu=yi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var du=Fr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ir(t,or(e,1),[])})),vu=Ze||function(){return Gt.Date.now()};function gu(t,e,n){return e=n?void 0:e,Vi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function mu(t,e){var n;if("function"!=typeof e)throw new bt(o);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var bu=Fr((function(t,e,n){var r=1;if(n.length){var i=We(n,Xi(bu));r|=32}return Vi(t,r,e,n,i)})),yu=Fr((function(t,e,n){var r=3;if(n.length){var i=We(n,Xi(yu));r|=32}return Vi(e,r,t,n,i)}));function _u(t,e,n){var r,i,u,s,a,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new bt(o);function d(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function v(t){return l=t,a=_o(m,e),f?d(t):s}function g(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=u}function m(){var t=vu();if(g(t))return b(t);a=_o(m,function(t){var n=e-(t-c);return h?sn(n,u-(t-l)):n}(t))}function b(t){return a=void 0,p&&r?d(t):(r=i=void 0,s)}function y(){var t=vu(),n=g(t);if(r=arguments,i=this,c=t,n){if(void 0===a)return v(c);if(h)return li(a),a=_o(m,e),d(c)}return void 0===a&&(a=_o(m,e)),s}return e=os(e)||0,Bu(n)&&(f=!!n.leading,u=(h="maxWait"in n)?un(os(n.maxWait)||0,e):u,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==a&&li(a),l=0,r=c=i=a=void 0},y.flush=function(){return void 0===a?s:b(vu())},y}var wu=Fr((function(t,e){return Jn(t,1,e)})),xu=Fr((function(t,e,n){return Jn(t,os(e)||0,n)}));function Su(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new bt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(Su.Cache||Nn),n}function Eu(t){if("function"!=typeof t)throw new bt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Su.Cache=Nn;var Au=ai((function(t,e){var n=(e=1==e.length&&Ru(e[0])?pe(e[0],Pe(Zi())):pe(or(e,1),Pe(Zi()))).length;return Fr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Cu=Fr((function(t,e){return Vi(t,32,void 0,e,We(e,Xi(Cu)))})),Ou=Fr((function(t,e){return Vi(t,64,void 0,e,We(e,Xi(Ou)))})),ku=Hi((function(t,e){return Vi(t,256,void 0,void 0,void 0,e)}));function ju(t,e){return t===e||t!=t&&e!=e}var Pu=Mi(dr),Tu=Mi((function(t,e){return t>=e})),Iu=yr(function(){return arguments}())?yr:function(t){return Hu(t)&&Et.call(t,"callee")&&!$t.call(t,"callee")},Ru=r.isArray,Mu=Qt?Pe(Qt):function(t){return Hu(t)&&pr(t)==S};function Nu(t){return null!=t&&Wu(t.length)&&!Du(t)}function Uu(t){return Hu(t)&&Nu(t)}var Lu=en||oa,Fu=te?Pe(te):function(t){return Hu(t)&&pr(t)==f};function Vu(t){if(!Hu(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Gu(t)}function Du(t){if(!Bu(t))return!1;var e=pr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function zu(t){return"number"==typeof t&&t==rs(t)}function Wu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Bu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Hu(t){return null!=t&&"object"==typeof t}var qu=ee?Pe(ee):function(t){return Hu(t)&&no(t)==v};function Yu(t){return"number"==typeof t||Hu(t)&&pr(t)==g}function Gu(t){if(!Hu(t)||pr(t)!=m)return!1;var e=qt(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&St.call(n)==kt}var $u=ne?Pe(ne):function(t){return Hu(t)&&pr(t)==b};var Xu=re?Pe(re):function(t){return Hu(t)&&no(t)==y};function Zu(t){return"string"==typeof t||!Ru(t)&&Hu(t)&&pr(t)==_}function Ku(t){return"symbol"==typeof t||Hu(t)&&pr(t)==w}var Ju=ie?Pe(ie):function(t){return Hu(t)&&Wu(t.length)&&!!Dt[pr(t)]};var Qu=Mi(Cr),ts=Mi((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Nu(t))return Zu(t)?Ye(t):mi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=no(t);return(e==v?De:e==y?Be:js)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Xn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ku(t))return NaN;if(Bu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Bu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var n=ot.test(t);return n||st.test(t)?Ht(t.slice(2),n?2:8):it.test(t)?NaN:+t}function us(t){return bi(t,ws(t))}function ss(t){return null==t?"":Kr(t)}var as=_i((function(t,e){if(fo(e)||Nu(e))bi(e,_s(e),t);else for(var n in e)Et.call(e,n)&&Bn(t,n,e[n])})),cs=_i((function(t,e){bi(e,ws(e),t)})),ls=_i((function(t,e,n,r){bi(e,ws(e),t,r)})),fs=_i((function(t,e,n,r){bi(e,_s(e),t,r)})),hs=Hi($n);var ps=Fr((function(t,e){t=vt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],u=ws(o),s=-1,a=u.length;++s<a;){var c=u[s],l=t[c];(void 0===l||ju(l,wt[c])&&!Et.call(t,c))&&(t[c]=o[c])}return t})),ds=Fr((function(t){return t.push(void 0,zi),oe(Ss,void 0,t)}));function vs(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function gs(t,e){return null!=t&&ro(t,e,gr)}var ms=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),t[e]=n}),Bs(Ys)),bs=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]}),Zi),ys=Fr(br);function _s(t){return Nu(t)?Fn(t):Er(t)}function ws(t){return Nu(t)?Fn(t,!0):Ar(t)}var xs=_i((function(t,e,n){Pr(t,e,n)})),Ss=_i((function(t,e,n,r){Pr(t,e,n,r)})),Es=Hi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),bi(t,Yi(t),n),r&&(n=Zn(n,7,Wi));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var As=Hi((function(t,e){return null==t?{}:function(t,e){return Rr(t,e,(function(e,n){return gs(t,n)}))}(t,e)}));function Cs(t,e){if(null==t)return{};var n=pe(Yi(t),(function(t){return[t]}));return e=Zi(e),Rr(t,n,(function(t,n){return e(t,n[0])}))}var Os=Fi(_s),ks=Fi(ws);function js(t){return null==t?[]:Te(t,_s(t))}var Ps=Ei((function(t,e,n){return e=e.toLowerCase(),t+(n?Ts(e):e)}));function Ts(t){return Vs(ss(t).toLowerCase())}function Is(t){return(t=ss(t))&&t.replace(ct,Ue).replace(Rt,"")}var Rs=Ei((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ms=Ei((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ns=Si("toLowerCase");var Us=Ei((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ls=Ei((function(t,e,n){return t+(n?" ":"")+Vs(e)}));var Fs=Ei((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Vs=Si("toUpperCase");function Ds(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Lt.test(t)}(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var zs=Fr((function(t,e){try{return oe(t,void 0,e)}catch(t){return Vu(t)?t:new ht(t)}})),Ws=Hi((function(t,e){return se(e,(function(e){e=Co(e),Gn(t,e,bu(t[e],t))})),t}));function Bs(t){return function(){return t}}var Hs=Oi(),qs=Oi(!0);function Ys(t){return t}function Gs(t){return Sr("function"==typeof t?t:Zn(t,1))}var $s=Fr((function(t,e){return function(n){return br(n,t,e)}})),Xs=Fr((function(t,e){return function(n){return br(t,n,e)}}));function Zs(t,e,n){var r=_s(e),i=lr(e,r);null!=n||Bu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,_s(e)));var o=!(Bu(n)&&"chain"in n&&!n.chain),u=Du(t);return se(i,(function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Ks(){}var Js=Ti(pe),Qs=Ti(ce),ta=Ti(me);function ea(t){return ao(t)?Ae(Co(t)):function(t){return function(e){return fr(e,t)}}(t)}var na=Ri(),ra=Ri(!0);function ia(){return[]}function oa(){return!1}var ua=Pi((function(t,e){return t+e}),0),sa=Ui("ceil"),aa=Pi((function(t,e){return t/e}),1),ca=Ui("floor");var la,fa=Pi((function(t,e){return t*e}),1),ha=Ui("round"),pa=Pi((function(t,e){return t-e}),0);return kn.after=function(t,e){if("function"!=typeof e)throw new bt(o);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},kn.ary=gu,kn.assign=as,kn.assignIn=cs,kn.assignInWith=ls,kn.assignWith=fs,kn.at=hs,kn.before=mu,kn.bind=bu,kn.bindAll=Ws,kn.bindKey=yu,kn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ru(t)?t:[t]},kn.chain=eu,kn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:un(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,u=0,s=r(Je(i/e));o<i;)s[u++]=qr(t,o,o+=e);return s},kn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},kn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Ru(n)?mi(n):[n],or(e,1))},kn.cond=function(t){var e=null==t?0:t.length,n=Zi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new bt(o);return[n(t[0]),t[1]]})):[],Fr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},kn.conforms=function(t){return function(t){var e=_s(t);return function(n){return Kn(n,t,e)}}(Zn(t,1))},kn.constant=Bs,kn.countBy=iu,kn.create=function(t,e){var n=jn(t);return null==e?n:Yn(n,e)},kn.curry=function t(e,n,r){var i=Vi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},kn.curryRight=function t(e,n,r){var i=Vi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},kn.debounce=_u,kn.defaults=ps,kn.defaultsDeep=ds,kn.defer=wu,kn.delay=xu,kn.difference=jo,kn.differenceBy=Po,kn.differenceWith=To,kn.drop=function(t,e,n){var r=null==t?0:t.length;return r?qr(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},kn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?qr(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},kn.dropRightWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!0,!0):[]},kn.dropWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!0):[]},kn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},kn.filter=function(t,e){return(Ru(t)?le:ir)(t,Zi(e,3))},kn.flatMap=function(t,e){return or(hu(t,e),1)},kn.flatMapDeep=function(t,e){return or(hu(t,e),1/0)},kn.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),or(hu(t,e),n)},kn.flatten=Mo,kn.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},kn.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:rs(e)):[]},kn.flip=function(t){return Vi(t,512)},kn.flow=Hs,kn.flowRight=qs,kn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},kn.functions=function(t){return null==t?[]:lr(t,_s(t))},kn.functionsIn=function(t){return null==t?[]:lr(t,ws(t))},kn.groupBy=cu,kn.initial=function(t){return(null==t?0:t.length)?qr(t,0,-1):[]},kn.intersection=Uo,kn.intersectionBy=Lo,kn.intersectionWith=Fo,kn.invert=ms,kn.invertBy=bs,kn.invokeMap=lu,kn.iteratee=Gs,kn.keyBy=fu,kn.keys=_s,kn.keysIn=ws,kn.map=hu,kn.mapKeys=function(t,e){var n={};return e=Zi(e,3),ar(t,(function(t,r,i){Gn(n,e(t,r,i),t)})),n},kn.mapValues=function(t,e){var n={};return e=Zi(e,3),ar(t,(function(t,r,i){Gn(n,r,e(t,r,i))})),n},kn.matches=function(t){return kr(Zn(t,1))},kn.matchesProperty=function(t,e){return jr(t,Zn(e,1))},kn.memoize=Su,kn.merge=xs,kn.mergeWith=Ss,kn.method=$s,kn.methodOf=Xs,kn.mixin=Zs,kn.negate=Eu,kn.nthArg=function(t){return t=rs(t),Fr((function(e){return Tr(e,t)}))},kn.omit=Es,kn.omitBy=function(t,e){return Cs(t,Eu(Zi(e)))},kn.once=function(t){return mu(2,t)},kn.orderBy=function(t,e,n,r){return null==t?[]:(Ru(e)||(e=null==e?[]:[e]),Ru(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(t,e,n))},kn.over=Js,kn.overArgs=Au,kn.overEvery=Qs,kn.overSome=ta,kn.partial=Cu,kn.partialRight=Ou,kn.partition=pu,kn.pick=As,kn.pickBy=Cs,kn.property=ea,kn.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},kn.pull=Do,kn.pullAll=zo,kn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Mr(t,e,Zi(n,2)):t},kn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Mr(t,e,void 0,n):t},kn.pullAt=Wo,kn.range=na,kn.rangeRight=ra,kn.rearg=ku,kn.reject=function(t,e){return(Ru(t)?le:ir)(t,Eu(Zi(e,3)))},kn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Zi(e,3);++r<o;){var u=t[r];e(u,r,t)&&(n.push(u),i.push(r))}return Nr(t,i),n},kn.rest=function(t,e){if("function"!=typeof t)throw new bt(o);return Fr(t,e=void 0===e?e:rs(e))},kn.reverse=Bo,kn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),(Ru(t)?Dn:Dr)(t,e)},kn.set=function(t,e,n){return null==t?t:zr(t,e,n)},kn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:zr(t,e,n,r)},kn.shuffle=function(t){return(Ru(t)?zn:Hr)(t)},kn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),qr(t,e,n)):[]},kn.sortBy=du,kn.sortedUniq=function(t){return t&&t.length?Xr(t):[]},kn.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,Zi(e,2)):[]},kn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!$u(e))&&!(e=Kr(e))&&Ve(t)?ci(Ye(t),0,n):t.split(e,n):[]},kn.spread=function(t,e){if("function"!=typeof t)throw new bt(o);return e=null==e?0:un(rs(e),0),Fr((function(n){var r=n[e],i=ci(n,0,e);return r&&de(i,r),oe(t,this,i)}))},kn.tail=function(t){var e=null==t?0:t.length;return e?qr(t,1,e):[]},kn.take=function(t,e,n){return t&&t.length?qr(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},kn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?qr(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},kn.takeRightWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!1,!0):[]},kn.takeWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3)):[]},kn.tap=function(t,e){return e(t),t},kn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new bt(o);return Bu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_u(t,e,{leading:r,maxWait:e,trailing:i})},kn.thru=nu,kn.toArray=es,kn.toPairs=Os,kn.toPairsIn=ks,kn.toPath=function(t){return Ru(t)?pe(t,Co):Ku(t)?[t]:mi(Ao(ss(t)))},kn.toPlainObject=us,kn.transform=function(t,e,n){var r=Ru(t),i=r||Lu(t)||Ju(t);if(e=Zi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Bu(t)&&Du(o)?jn(qt(t)):{}}return(i?se:ar)(t,(function(t,r,i){return e(n,t,r,i)})),n},kn.unary=function(t){return gu(t,1)},kn.union=Ho,kn.unionBy=qo,kn.unionWith=Yo,kn.uniq=function(t){return t&&t.length?Jr(t):[]},kn.uniqBy=function(t,e){return t&&t.length?Jr(t,Zi(e,2)):[]},kn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},kn.unset=function(t,e){return null==t||Qr(t,e)},kn.unzip=Go,kn.unzipWith=$o,kn.update=function(t,e,n){return null==t?t:ti(t,e,ui(n))},kn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ui(n),r)},kn.values=js,kn.valuesIn=function(t){return null==t?[]:Te(t,ws(t))},kn.without=Xo,kn.words=Ds,kn.wrap=function(t,e){return Cu(ui(e),t)},kn.xor=Zo,kn.xorBy=Ko,kn.xorWith=Jo,kn.zip=Qo,kn.zipObject=function(t,e){return ii(t||[],e||[],Bn)},kn.zipObjectDeep=function(t,e){return ii(t||[],e||[],zr)},kn.zipWith=tu,kn.entries=Os,kn.entriesIn=ks,kn.extend=cs,kn.extendWith=ls,Zs(kn,kn),kn.add=ua,kn.attempt=zs,kn.camelCase=Ps,kn.capitalize=Ts,kn.ceil=sa,kn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Xn(os(t),e,n)},kn.clone=function(t){return Zn(t,4)},kn.cloneDeep=function(t){return Zn(t,5)},kn.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},kn.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},kn.conformsTo=function(t,e){return null==e||Kn(t,e,_s(e))},kn.deburr=Is,kn.defaultTo=function(t,e){return null==t||t!=t?e:t},kn.divide=aa,kn.endsWith=function(t,e,n){t=ss(t),e=Kr(e);var r=t.length,i=n=void 0===n?r:Xn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},kn.eq=ju,kn.escape=function(t){return(t=ss(t))&&V.test(t)?t.replace(L,Le):t},kn.escapeRegExp=function(t){return(t=ss(t))&&G.test(t)?t.replace(Y,"\\$&"):t},kn.every=function(t,e,n){var r=Ru(t)?ce:nr;return n&&so(t,e,n)&&(e=void 0),r(t,Zi(e,3))},kn.find=ou,kn.findIndex=Io,kn.findKey=function(t,e){return ye(t,Zi(e,3),ar)},kn.findLast=uu,kn.findLastIndex=Ro,kn.findLastKey=function(t,e){return ye(t,Zi(e,3),cr)},kn.floor=ca,kn.forEach=su,kn.forEachRight=au,kn.forIn=function(t,e){return null==t?t:ur(t,Zi(e,3),ws)},kn.forInRight=function(t,e){return null==t?t:sr(t,Zi(e,3),ws)},kn.forOwn=function(t,e){return t&&ar(t,Zi(e,3))},kn.forOwnRight=function(t,e){return t&&cr(t,Zi(e,3))},kn.get=vs,kn.gt=Pu,kn.gte=Tu,kn.has=function(t,e){return null!=t&&ro(t,e,vr)},kn.hasIn=gs,kn.head=No,kn.identity=Ys,kn.includes=function(t,e,n,r){t=Nu(t)?t:js(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=un(i+n,0)),Zu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&we(t,e,n)>-1},kn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=un(r+i,0)),we(t,e,i)},kn.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<un(e,n)}(t=os(t),e,n)},kn.invoke=ys,kn.isArguments=Iu,kn.isArray=Ru,kn.isArrayBuffer=Mu,kn.isArrayLike=Nu,kn.isArrayLikeObject=Uu,kn.isBoolean=function(t){return!0===t||!1===t||Hu(t)&&pr(t)==l},kn.isBuffer=Lu,kn.isDate=Fu,kn.isElement=function(t){return Hu(t)&&1===t.nodeType&&!Gu(t)},kn.isEmpty=function(t){if(null==t)return!0;if(Nu(t)&&(Ru(t)||"string"==typeof t||"function"==typeof t.splice||Lu(t)||Ju(t)||Iu(t)))return!t.length;var e=no(t);if(e==v||e==y)return!t.size;if(fo(t))return!Er(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},kn.isEqual=function(t,e){return _r(t,e)},kn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},kn.isError=Vu,kn.isFinite=function(t){return"number"==typeof t&&nn(t)},kn.isFunction=Du,kn.isInteger=zu,kn.isLength=Wu,kn.isMap=qu,kn.isMatch=function(t,e){return t===e||wr(t,e,Ji(e))},kn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Ji(e),n)},kn.isNaN=function(t){return Yu(t)&&t!=+t},kn.isNative=function(t){if(lo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},kn.isNil=function(t){return null==t},kn.isNull=function(t){return null===t},kn.isNumber=Yu,kn.isObject=Bu,kn.isObjectLike=Hu,kn.isPlainObject=Gu,kn.isRegExp=$u,kn.isSafeInteger=function(t){return zu(t)&&t>=-9007199254740991&&t<=9007199254740991},kn.isSet=Xu,kn.isString=Zu,kn.isSymbol=Ku,kn.isTypedArray=Ju,kn.isUndefined=function(t){return void 0===t},kn.isWeakMap=function(t){return Hu(t)&&no(t)==x},kn.isWeakSet=function(t){return Hu(t)&&"[object WeakSet]"==pr(t)},kn.join=function(t,e){return null==t?"":rn.call(t,e)},kn.kebabCase=Rs,kn.last=Vo,kn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?un(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):_e(t,Se,i,!0)},kn.lowerCase=Ms,kn.lowerFirst=Ns,kn.lt=Qu,kn.lte=ts,kn.max=function(t){return t&&t.length?rr(t,Ys,dr):void 0},kn.maxBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),dr):void 0},kn.mean=function(t){return Ee(t,Ys)},kn.meanBy=function(t,e){return Ee(t,Zi(e,2))},kn.min=function(t){return t&&t.length?rr(t,Ys,Cr):void 0},kn.minBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),Cr):void 0},kn.stubArray=ia,kn.stubFalse=oa,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=fa,kn.nth=function(t,e){return t&&t.length?Tr(t,rs(e)):void 0},kn.noConflict=function(){return Gt._===this&&(Gt._=jt),this},kn.noop=Ks,kn.now=vu,kn.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?qe(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ii(Qe(i),n)+t+Ii(Je(i),n)},kn.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?qe(t):0;return e&&r<e?t+Ii(e-r,n):t},kn.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?qe(t):0;return e&&r<e?Ii(e-r,n)+t:t},kn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(ss(t).replace(X,""),e||0)},kn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return sn(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Ur(t,e)},kn.reduce=function(t,e,n){var r=Ru(t)?ve:Oe,i=arguments.length<3;return r(t,Zi(e,4),n,i,tr)},kn.reduceRight=function(t,e,n){var r=Ru(t)?ge:Oe,i=arguments.length<3;return r(t,Zi(e,4),n,i,er)},kn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),Lr(ss(t),e)},kn.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},kn.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Co(e[r])];void 0===o&&(r=i,o=n),t=Du(o)?o.call(t):o}return t},kn.round=ha,kn.runInContext=t,kn.sample=function(t){return(Ru(t)?Vn:Vr)(t)},kn.size=function(t){if(null==t)return 0;if(Nu(t))return Zu(t)?qe(t):t.length;var e=no(t);return e==v||e==y?t.size:Er(t).length},kn.snakeCase=Us,kn.some=function(t,e,n){var r=Ru(t)?me:Yr;return n&&so(t,e,n)&&(e=void 0),r(t,Zi(e,3))},kn.sortedIndex=function(t,e){return Gr(t,e)},kn.sortedIndexBy=function(t,e,n){return $r(t,e,Zi(n,2))},kn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Gr(t,e);if(r<n&&ju(t[r],e))return r}return-1},kn.sortedLastIndex=function(t,e){return Gr(t,e,!0)},kn.sortedLastIndexBy=function(t,e,n){return $r(t,e,Zi(n,2),!0)},kn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Gr(t,e,!0)-1;if(ju(t[n],e))return n}return-1},kn.startCase=Ls,kn.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Xn(rs(n),0,t.length),e=Kr(e),t.slice(n,n+e.length)==e},kn.subtract=pa,kn.sum=function(t){return t&&t.length?ke(t,Ys):0},kn.sumBy=function(t,e){return t&&t.length?ke(t,Zi(e,2)):0},kn.template=function(t,e,n){var r=kn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=ls({},e,r,Di);var i,o,u=ls({},e.imports,r.imports,Di),s=_s(u),a=Te(u,s),c=0,l=e.interpolate||lt,f="__p += '",h=gt((e.escape||lt).source+"|"+l.source+"|"+(l===W?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";t.replace(h,(function(e,n,r,u,s,a){return r||(r=u),f+=t.slice(c,a).replace(ft,Fe),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=a+e.length,e})),f+="';\n";var d=Et.call(e,"variable")&&e.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(R,""):f).replace(M,"$1").replace(N,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=zs((function(){return pt(s,p+"return "+f).apply(void 0,a)}));if(v.source=f,Vu(v))throw v;return v},kn.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=je(r,e=Zi(e));++n<t;)e(n);return i},kn.toFinite=ns,kn.toInteger=rs,kn.toLength=is,kn.toLower=function(t){return ss(t).toLowerCase()},kn.toNumber=os,kn.toSafeInteger=function(t){return t?Xn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},kn.toString=ss,kn.toUpper=function(t){return ss(t).toUpperCase()},kn.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=Kr(e)))return t;var r=Ye(t),i=Ye(e);return ci(r,Re(r,i),Me(r,i)+1).join("")},kn.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Kr(e)))return t;var r=Ye(t);return ci(r,0,Me(r,Ye(e))+1).join("")},kn.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Kr(e)))return t;var r=Ye(t);return ci(r,Re(r,Ye(e))).join("")},kn.truncate=function(t,e){var n=30,r="...";if(Bu(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Kr(e.omission):r}var o=(t=ss(t)).length;if(Ve(t)){var u=Ye(t);o=u.length}if(n>=o)return t;var s=n-qe(r);if(s<1)return r;var a=u?ci(u,0,s).join(""):t.slice(0,s);if(void 0===i)return a+r;if(u&&(s+=a.length-s),$u(i)){if(t.slice(s).search(i)){var c,l=a;for(i.global||(i=gt(i.source,ss(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;a=a.slice(0,void 0===f?s:f)}}else if(t.indexOf(Kr(i),s)!=s){var h=a.lastIndexOf(i);h>-1&&(a=a.slice(0,h))}return a+r},kn.unescape=function(t){return(t=ss(t))&&F.test(t)?t.replace(U,Ge):t},kn.uniqueId=function(t){var e=++At;return ss(t)+e},kn.upperCase=Fs,kn.upperFirst=Vs,kn.each=su,kn.eachRight=au,kn.first=No,Zs(kn,(la={},ar(kn,(function(t,e){Et.call(kn.prototype,e)||(la[e]=t)})),la),{chain:!1}),kn.VERSION="4.17.15",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){kn[t].placeholder=kn})),se(["drop","take"],(function(t,e){In.prototype[t]=function(n){n=void 0===n?1:un(rs(n),0);var r=this.__filtered__&&!e?new In(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},In.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;In.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");In.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");In.prototype[t]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter(Ys)},In.prototype.find=function(t){return this.filter(t).head()},In.prototype.findLast=function(t){return this.reverse().find(t)},In.prototype.invokeMap=Fr((function(t,e){return"function"==typeof t?new In(this):this.map((function(n){return br(n,t,e)}))})),In.prototype.reject=function(t){return this.filter(Eu(Zi(t)))},In.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new In(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},In.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},ar(In.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=kn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(kn.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,s=e instanceof In,a=u[0],c=s||Ru(e),l=function(t){var e=i.apply(kn,de([t],u));return r&&f?e[0]:e};c&&n&&"function"==typeof a&&1!=a.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=s&&!h;if(!o&&c){e=d?e:new In(this);var v=t.apply(e,u);return v.__actions__.push({func:nu,args:[l],thisArg:void 0}),new Tn(v,f)}return p&&d?t.apply(this,u):(v=this.thru(l),p?r?v.value()[0]:v.value():v)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);kn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ru(i)?i:[],t)}return this[n]((function(n){return e.apply(Ru(n)?n:[],t)}))}})),ar(In.prototype,(function(t,e){var n=kn[e];if(n){var r=n.name+"";Et.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}})),yn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var t=new In(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},In.prototype.reverse=function(){if(this.__filtered__){var t=new In(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},In.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ru(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=sn(e,t+u);break;case"takeRight":t=un(t,e-u)}}return{start:t,end:e}}(0,i,this.__views__),u=o.start,s=o.end,a=s-u,c=r?s:u-1,l=this.__iteratees__,f=l.length,h=0,p=sn(a,this.__takeCount__);if(!n||!r&&i==a&&p==a)return ni(t,this.__actions__);var d=[];t:for(;a--&&h<p;){for(var v=-1,g=t[c+=e];++v<f;){var m=l[v],b=m.iteratee,y=m.type,_=b(g);if(2==y)g=_;else if(!_){if(1==y)continue t;break t}}d[h++]=g}return d},kn.prototype.at=ru,kn.prototype.chain=function(){return eu(this)},kn.prototype.commit=function(){return new Tn(this.value(),this.__chain__)},kn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},kn.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var r=ko(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},kn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof In){var e=t;return this.__actions__.length&&(e=new In(this)),(e=e.reverse()).__actions__.push({func:nu,args:[Bo],thisArg:void 0}),new Tn(e,this.__chain__)}return this.thru(Bo)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,Jt&&(kn.prototype[Jt]=function(){return this}),kn}();Gt._=$e,void 0===(i=function(){return $e}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(32),n(33)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){},function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return E})),n.d(e,"ConnectableObservable",(function(){return M})),n.d(e,"GroupedObservable",(function(){return L})),n.d(e,"observable",(function(){return _})),n.d(e,"Subject",(function(){return P})),n.d(e,"BehaviorSubject",(function(){return V})),n.d(e,"ReplaySubject",(function(){return it})),n.d(e,"AsyncSubject",(function(){return ut})),n.d(e,"asapScheduler",(function(){return ht})),n.d(e,"asyncScheduler",(function(){return pt})),n.d(e,"queueScheduler",(function(){return H})),n.d(e,"animationFrameScheduler",(function(){return vt})),n.d(e,"VirtualTimeScheduler",(function(){return gt})),n.d(e,"VirtualAction",(function(){return mt})),n.d(e,"Scheduler",(function(){return W})),n.d(e,"Subscription",(function(){return d})),n.d(e,"Subscriber",(function(){return m})),n.d(e,"Notification",(function(){return et})),n.d(e,"pipe",(function(){return x})),n.d(e,"noop",(function(){return w})),n.d(e,"identity",(function(){return bt})),n.d(e,"isObservable",(function(){return yt})),n.d(e,"ArgumentOutOfRangeError",(function(){return wt})),n.d(e,"EmptyError",(function(){return St})),n.d(e,"ObjectUnsubscribedError",(function(){return O})),n.d(e,"UnsubscriptionError",(function(){return p})),n.d(e,"TimeoutError",(function(){return At})),n.d(e,"bindCallback",(function(){return jt})),n.d(e,"bindNodeCallback",(function(){return It})),n.d(e,"combineLatest",(function(){return $t})),n.d(e,"concat",(function(){return ne})),n.d(e,"defer",(function(){return re})),n.d(e,"empty",(function(){return Y})),n.d(e,"forkJoin",(function(){return ie})),n.d(e,"from",(function(){return Kt})),n.d(e,"fromEvent",(function(){return ue})),n.d(e,"fromEventPattern",(function(){return se})),n.d(e,"generate",(function(){return ae})),n.d(e,"iif",(function(){return le})),n.d(e,"interval",(function(){return he})),n.d(e,"merge",(function(){return de})),n.d(e,"never",(function(){return ge})),n.d(e,"of",(function(){return J})),n.d(e,"onErrorResumeNext",(function(){return me})),n.d(e,"pairs",(function(){return be})),n.d(e,"race",(function(){return _e})),n.d(e,"range",(function(){return Se})),n.d(e,"throwError",(function(){return Q})),n.d(e,"timer",(function(){return Ae})),n.d(e,"using",(function(){return Oe})),n.d(e,"zip",(function(){return ke})),n.d(e,"EMPTY",(function(){return q})),n.d(e,"NEVER",(function(){return ve})),n.d(e,"config",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){return"function"==typeof t}var u=!1,s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;u=t},get useDeprecatedSynchronousErrorHandling(){return u}};function a(t){setTimeout((function(){throw t}))}var c={closed:!0,next:function(t){},error:function(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function f(t){return null!==t&&"object"==typeof t}function h(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}h.prototype=Object.create(Error.prototype);var p=h,d=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,u=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=r?r.length:0;n;)n.remove(this),n=++s<a&&r[s]||null;if(o(i))try{i.call(this)}catch(n){e=!0,t=n instanceof p?v(n.errors):[n]}if(l(u))for(s=-1,a=u.length;++s<a;){var c=u[s];if(f(c))try{c.unsubscribe()}catch(n){e=!0,t=t||[],n instanceof p?t=t.concat(v(n.errors)):t.push(n)}}if(e)throw new p(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function v(t){return t.reduce((function(t,e){return t.concat(e instanceof p?e.errors:e)}),[])}var g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=c;break;case 1:if(!n){o.destination=c;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new b(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new b(o,n,r,i)}return o}return i(e,t),e.prototype[g]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(d),b=function(t){function e(e,n,r,i){var u,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return o(n)?u=n:n&&(u=n.next,r=n.error,i=n.complete,n!==c&&(o((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=u,s._error=r,s._complete=i,s}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw t;a(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(a(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m);function y(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof m?r:null}return!0}var _="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S(t)}function S(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:w}var E=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[g])return t[g]()}return t||e||n?new m(t,e,n):new m(c)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),y(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=A(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[_]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:S(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=A(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function A(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);var O=C,k=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(d),j=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(m),P=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[g]=function(){return new j(this)},e.prototype.lift=function(t){var e=new T(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new O;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new O;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new O;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new O;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new O;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new k(this,t))},e.prototype.asObservable=function(){var t=new E;return t.source=this,t},e.create=function(t,e){return new T(t,e)},e}(E),T=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):d.EMPTY},e}(P);var I=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new R(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),R=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(m),M=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new U(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return(t=this).lift(new I(t));var t},e}(E),N=M.prototype,U=(N._subscribe,N._isComplete,N.getSubject,N.connect,N.refCount,function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(j));var L=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return i(e,t),e.prototype._subscribe=function(t){var e=new d,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new F(n)),e.add(r.subscribe(t)),e},e}(E),F=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(d),V=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new O;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(P),D=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(d)),z=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(D),W=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),B=function(t){function e(n,r){void 0===r&&(r=W.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(W),H=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(B))(z),q=new E((function(t){return t.complete()}));function Y(t){return t?function(t){return new E((function(e){return t.schedule((function(){return e.complete()}))}))}(t):q}function G(t){return t&&"function"==typeof t.schedule}var $,X=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}};function Z(t,e){return new E(e?function(n){var r=new d,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:X(t))}function K(t){var e=new E((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(G(n)?t.pop():n=void 0,t.length){case 0:return Y(n);case 1:return n?Z(t,n):K(t[0]);default:return Z(t,n)}}function Q(t,e){return new E(e?function(n){return e.schedule(tt,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function tt(t){var e=t.error;t.subscriber.error(e)}$||($={});var et=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return J(this.value);case"E":return Q(this.error);case"C":return Y()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var nt=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new rt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(et.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(et.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(et.createComplete()),this.unsubscribe()},e}(m),rt=function(){return function(t,e){this.notification=t,this.destination=e}}(),it=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new ot(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new O;if(this.isStopped||this.hasError?e=d.EMPTY:(this.observers.push(t),e=new k(this,t)),i&&t.add(t=new nt(t,i)),n)for(var u=0;u<o&&!t.closed;u++)t.next(r[u]);else for(u=0;u<o&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||H).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(P),ot=function(){return function(t,e){this.time=t,this.value=e}}(),ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),d.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),d.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(P),st=1,at={};var ct=function(t){var e=st++;return at[e]=t,Promise.resolve().then((function(){return function(t){var e=at[t];e&&e()}(e)})),e},lt=function(t){delete at[t]},ft=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=ct(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(lt(n),e.scheduled=void 0)},e}(D),ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(B))(ft),pt=new B(D),dt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(D),vt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(B))(dt),gt=function(t){function e(e,n){void 0===e&&(e=mt),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(B),mt=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return i(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(D);function bt(t){return t}function yt(t){return!!t&&(t instanceof E||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function _t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}_t.prototype=Object.create(Error.prototype);var wt=_t;function xt(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}xt.prototype=Object.create(Error.prototype);var St=xt;function Et(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}Et.prototype=Object.create(Error.prototype);var At=Et;function Ct(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Ot(t,e))}}var Ot=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.project,this.thisArg))},t}(),kt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(m);function jt(t,e,n){if(e){if(!G(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return jt(t,n).apply(void 0,r).pipe(Ct((function(t){return l(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,o=this,u={context:o,subject:i,callbackFunc:t,scheduler:n};return new E((function(r){if(n){var s={args:e,subscriber:r,params:u};return n.schedule(Pt,0,s)}if(!i){i=new ut;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){y(i)?i.error(t):console.warn(t)}}return i.subscribe(r)}))}}function Pt(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,u=i.context,s=i.scheduler,a=i.subject;if(!a){a=i.subject=new ut;try{o.apply(u,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(s.schedule(Tt,0,{value:r,subject:a}))}]))}catch(t){a.error(t)}}this.add(a.subscribe(r))}function Tt(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function It(t,e,n){if(e){if(!G(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return It(t,n).apply(void 0,r).pipe(Ct((function(t){return l(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new E((function(r){var o=i.context,u=i.subject;if(n)return n.schedule(Rt,0,{params:i,subscriber:r,context:o});if(!u){u=i.subject=new ut;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?u.error(n):(u.next(t.length<=1?t[0]:t),u.complete())}]))}catch(t){y(u)?u.error(t):console.warn(t)}}return u.subscribe(r)}))}}function Rt(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,u=n.args,s=n.scheduler,a=n.subject;if(!a){a=n.subject=new ut;try{o.apply(i,u.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(s.schedule(Nt,0,{err:r,subject:a}));else{var i=t.length<=1?t[0]:t;e.add(s.schedule(Mt,0,{value:i,subject:a}))}}]))}catch(t){this.add(s.schedule(Nt,0,{err:t,subject:a}))}}this.add(a.subscribe(r))}function Mt(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Nt(t){var e=t.err;t.subject.error(e)}var Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(m),Lt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(m),Ft=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e}};function Vt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Dt=Vt(),zt=function(t){return function(e){for(var n=t[Dt]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},Wt=function(t){return function(e){var n=t[_]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Bt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Ht(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var qt=function(t){if(t instanceof E)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[_])return Wt(t);if(Bt(t))return X(t);if(Ht(t))return Ft(t);if(t&&"function"==typeof t[Dt])return zt(t);var e=f(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Yt(t,e,n,r,i){if(void 0===i&&(i=new Lt(t,n,r)),!i.closed)return qt(e)(i)}var Gt={};function $t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return G(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),Z(t,r).lift(new Xt(n))}var Xt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Zt(t,this.resultSelector))},t}(),Zt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i(e,t),e.prototype._next=function(t){this.values.push(Gt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Yt(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,u=o[n],s=this.toRespond?u===Gt?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Ut);function Kt(t,e){if(!e)return t instanceof E?t:new E(qt(t));if(null!=t){if(function(t){return t&&"function"==typeof t[_]}(t))return function(t,e){return new E(e?function(n){var r=new d;return r.add(e.schedule((function(){var i=t[_]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:Wt(t))}(t,e);if(Ht(t))return function(t,e){return new E(e?function(n){var r=new d;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:Ft(t))}(t,e);if(Bt(t))return Z(t,e);if(function(t){return t&&"function"==typeof t[Dt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new E(e?function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[Dt](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:zt(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}var Jt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Qt(t,this.project,this.concurrent))},t}(),Qt=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Lt(this,void 0,void 0);this.destination.add(r),Yt(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Ut);function te(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(t((function(t,r){return Kt(e(t,r)).pipe(Ct((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new Jt(e,r))})}(bt,t)}function ee(){return te(1)}function ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ee()(J.apply(void 0,t))}function re(t){return new E((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Kt(n):Y()).subscribe(e)}))}function ie(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),0===e.length?q:t?ie(e).pipe(Ct((function(e){return t.apply(void 0,e)}))):new E((function(t){return new oe(t,e)}))}var oe=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var u=Yt(r,n[o],null,o);u&&r.add(u)}return r}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(Ut);Object.prototype.toString;function ue(t,e,n,r){return o(n)&&(r=n,n=void 0),r?ue(t,e,n).pipe(Ct((function(t){return l(t)?r.apply(void 0,t):r(t)}))):new E((function(r){!function t(e,n,r,i,o){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),u=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(n,r),u=function(){return a.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),u=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,i,o)}i.add(u)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function se(t,e,n){return n?se(t,e).pipe(Ct((function(t){return l(t)?n.apply(void 0,t):n(t)}))):new E((function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(o(e))return function(){return e(i,r)}}))}function ae(t,e,n,r,i){var o,u;if(1==arguments.length){var s=t;u=s.initialState,e=s.condition,n=s.iterate,o=s.resultSelector||bt,i=s.scheduler}else void 0===r||G(r)?(u=t,o=bt,i=r):(u=t,o=r);return new E((function(t){var r=u;if(i)return i.schedule(ce,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){var s=void 0;try{s=e(r)}catch(e){return void t.error(e)}if(!s){t.complete();break}}var a=void 0;try{a=o(r)}catch(e){return void t.error(e)}if(t.next(a),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}}))}function ce(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function le(t,e,n){return void 0===e&&(e=q),void 0===n&&(n=q),re((function(){return t()?e:n}))}function fe(t){return!l(t)&&t-parseFloat(t)+1>=0}function he(t,e){return void 0===t&&(t=0),void 0===e&&(e=pt),(!fe(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=pt),new E((function(n){return n.add(e.schedule(pe,t,{subscriber:n,counter:0,period:t})),n}))}function pe(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return G(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof E?t[0]:te(n)(Z(t,r))}var ve=new E(w);function ge(){return ve}function me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return q;var n=t[0],r=t.slice(1);return 1===t.length&&l(n)?me.apply(void 0,n):new E((function(t){var e=function(){return t.add(me.apply(void 0,r).subscribe(t))};return Kt(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function be(t,e){return new E(e?function(n){var r=Object.keys(t),i=new d;return i.add(e.schedule(ye,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function ye(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var u=e[n];r.next([u,o[u]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function _e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return Z(t,void 0).lift(new we)}var we=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new xe(t))},t}(),xe=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Yt(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var u=this.subscriptions[o];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(e)},e}(Ut);function Se(t,e,n){return void 0===t&&(t=0),new E((function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(Ee,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}}))}function Ee(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}function Ae(t,e,n){void 0===t&&(t=0);var r=-1;return fe(e)?r=Number(e)<1?1:Number(e):G(e)&&(n=e),G(n)||(n=pt),new E((function(e){var i=fe(t)?t:+t-n.now();return n.schedule(Ce,i,{index:0,period:r,subscriber:e})}))}function Ce(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Oe(t,e){return new E((function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Kt(i):q).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}function ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Z(t,void 0).lift(new je(n))}var je=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Pe(t,this.resultSelector))},t}(),Pe=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return i(e,t),e.prototype._next=function(t){var e=this.iterators;l(t)?e.push(new Ie(t)):"function"==typeof t[Dt]?e.push(new Te(t[Dt]())):e.push(new Re(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(u=t[r]).hasValue&&!u.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var u,s=(u=t[r]).next();if(u.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(m),Te=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),Ie=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Dt]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Re=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i(e,t),e.prototype[Dt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Yt(this,this.observable,this,e)},e}(Ut)}]);